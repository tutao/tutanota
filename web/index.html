<!DOCTYPE html>
<!--[if IE 8]>     <html> <![endif]-->
<!--[if IE 9]>     <html> <![endif]-->
<!--[if gt IE 9]>  <html manifest="tutanota.appcache"> <![endif]-->
<!--[if !IE]><!--> <html manifest="tutanota.appcache"> <!--<![endif]-->
<!-- IE 10 can not only be recognized by js, so it is done in the following lines -->
<head>
	<script>
	if(Function('/*@cc_on return document.documentMode===10@*/')()) {
	    document.getElementsByTagName("html")[0].className = "ie ie10 lte10"
	}

    window.CLOSURE_NO_DEPS = true;
	</script>
	<meta charset="utf-8" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="The privacy-conscious email service Tutanota encrypts your emails automatically, no profiling possible. Open source and forever free." />
	<title>Tutanota</title>
	<link rel="icon" type="image/png" sizes="192x192"  href="graphics/favicon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="graphics/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="graphics/favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="graphics/favicon/favicon-16x16.png">
	<link rel="apple-touch-icon-precomposed" href="graphics/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="graphics/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="graphics/apple-touch-icon-114x114-precomposed.png" />
    <style type="text/css" id="customStyle"></style>
	<style type="text/css">
	* {
		margin: 0;
		padding: 0;
	}
	body {
		position: absolute;
		height: 100%;
		left:0;
		right:0;
	}

	div#fastMessage {
		background-color: #fff;
		height:100%;
		width:240px;
		margin: 0 auto;
	}
	div#fastMessageDistance {
		position:relative;
		height: 50%;
		margin-bottom: -50px;
		width: 1px;
		float: left;
	}
	div#fastMessageContainer {
		clear: left;
		position: relative;
		width: 240px;
		height: 50px;
		margin: 0 auto;
		text-align:center;
		font-family: sans-serif;
		line-height: 1.5;
	}
	div#fastMessageContainer > div.jsErrorMessage {
		display: none;
	}
	div#fastMessageSpinner:before {
		font-size:40px;
	}
	</style>
	<noscript>
		<style type="text/css">
			div#fastMessageDistance {
				margin-bottom: -120px;
			}
			div#fastMessageContainer {
				height: 240px;
			}
			div#fastMessageSpinner {
				display: none;
			}
			div#fastMessageContainer > div.jsErrorMessage {
				display: block;
			}
		</style>
	</noscript>
</head>
<body>

<div id="fastMessage" data-bind="fadeVisible: tutao.locator.viewManager.getActiveView() == tutao.locator.fastMessageView">
	<div id="fastMessageDistance"></div>
	<div id="fastMessageContainer">
		<div id="fastMessageSpinner" class="fontImage spinner"></div>
		<div class="jsErrorMessage">
				Error...
				<p>
					<br>Tutanota needs Javascript. Please enable Javascript in your browser...<br><br> Tutanota ben√∂tigt Javascript. Bitte schalten Sie Javascript in Ihrem Browser ein...
				</p>
		</div>
	</div>
</div>

<!-- build:css -->
<link href="less/main.less" rel="stylesheet" type="text/less" />
<!-- endbuild -->
<!-- build:js -->
<!-- inject:js -->
<script src="/lib/autolinker.min.js"></script>
<script src="/lib/bCrypt.js"></script>
<script src="/lib/bluebird-3.3.4.js"></script>
<script src="/lib/dev/less-1.7.0.min.js"></script>
<script src="/lib/filesaver.js"></script>
<script src="/lib/hammer-2.0.4.js"></script>
<script src="/lib/html-css-sanitizer-r5333-fix1.min.js"></script>
<script src="/lib/jquery-2.2.1.js"></script>
<script src="/lib/knockout-2.2.1.js"></script>
<script src="/lib/operative-0.3.1.js"></script>
<script src="/lib/path-2012-10-03.js"></script>
<script src="/lib/velocity.min.js"></script>
<script src="/lib/worker/base.js"></script>
<script src="/lib/worker/base64shim.js"></script>
<script src="/lib/worker/crypto-jsbn-2012-08-09_1.js"></script>
<script src="/lib/worker/crypto-sjcl-1.3.0_1.js"></script>
<script src="/js/Bootstrap.js"></script>
<script src="/js/Locator.js"></script>
<script src="/js/crypto/AesInterface.js"></script>
<script src="/js/crypto/AesInterfaceAsync.js"></script>
<script src="/js/crypto/AesSelector.js"></script>
<script src="/js/crypto/CryptoError.js"></script>
<script src="/js/crypto/EntropyCollector.js"></script>
<script src="/js/crypto/JBCryptAdapter.js"></script>
<script src="/js/crypto/KdfInterface.js"></script>
<script src="/js/crypto/Oaep.js"></script>
<script src="/js/crypto/Pss.js"></script>
<script src="/js/crypto/RandomizerInterface.js"></script>
<script src="/js/crypto/SecureRandom.js"></script>
<script src="/js/crypto/ShaInterface.js"></script>
<script src="/js/crypto/SjclAes.js"></script>
<script src="/js/crypto/SjclAes128CbcAsync.js"></script>
<script src="/js/crypto/SjclAes256Gcm.js"></script>
<script src="/js/crypto/SjclAes256GcmAsync.js"></script>
<script src="/js/crypto/SjclRandomizer.js"></script>
<script src="/js/crypto/SjclSha256.js"></script>
<script src="/js/crypto/Utils.js"></script>
<script src="/js/crypto/WebCryptoAes256GcmAsync.js"></script>
<script src="/js/ctrl/AdminAliasViewModel.js"></script>
<script src="/js/ctrl/AdminBuyAliasViewModel.js"></script>
<script src="/js/ctrl/AdminBuyStorageViewModel.js"></script>
<script src="/js/ctrl/AdminCustomDomainViewModel.js"></script>
<script src="/js/ctrl/AdminDeleteAccountViewModel.js"></script>
<script src="/js/ctrl/AdminEditUserViewModel.js"></script>
<script src="/js/ctrl/AdminInvoicingViewModel.js"></script>
<script src="/js/ctrl/AdminMessagesViewModel.js"></script>
<script src="/js/ctrl/AdminNewUser.js"></script>
<script src="/js/ctrl/AdminPremiumFeatureViewModel.js"></script>
<script src="/js/ctrl/AdminSpamViewModel.js"></script>
<script src="/js/ctrl/AdminUserAddViewModel.js"></script>
<script src="/js/ctrl/AdminUserListViewModel.js"></script>
<script src="/js/ctrl/AppCacheListener.js"></script>
<script src="/js/ctrl/AttachmentDialogViewModel.js"></script>
<script src="/js/ctrl/Button.js"></script>
<script src="/js/ctrl/ButtonBarViewModel.js"></script>
<script src="/js/ctrl/BuyDialogViewModel.js"></script>
<script src="/js/ctrl/BuyFeatureModel.js"></script>
<script src="/js/ctrl/BuyFeatureViewModel.js"></script>
<script src="/js/ctrl/ChangePasswordViewModel.js"></script>
<script src="/js/ctrl/ComposingMail.js"></script>
<script src="/js/ctrl/ContactCsvConverter.js"></script>
<script src="/js/ctrl/ContactCsvHandler.js"></script>
<script src="/js/ctrl/ContactListViewModel.js"></script>
<script src="/js/ctrl/ContactViewModel.js"></script>
<script src="/js/ctrl/DeveloperViewModel.js"></script>
<script src="/js/ctrl/DisplayedMail.js"></script>
<script src="/js/ctrl/DraftFacade.js"></script>
<script src="/js/ctrl/DropDownViewModel.js"></script>
<script src="/js/ctrl/EmailRuleChecker.js"></script>
<script src="/js/ctrl/ExternalLoginViewModel.js"></script>
<script src="/js/ctrl/FeedbackViewModel.js"></script>
<script src="/js/ctrl/FileViewModel.js"></script>
<script src="/js/ctrl/FolderNameDialogViewModel.js"></script>
<script src="/js/ctrl/FontViewModel.js"></script>
<script src="/js/ctrl/GroupData.js"></script>
<script src="/js/ctrl/InboxRulesSettingsViewModel.js"></script>
<script src="/js/ctrl/LanguageViewModel.js"></script>
<script src="/js/ctrl/LegacyDownloadViewModel.js"></script>
<script src="/js/ctrl/LoginViewModel.js"></script>
<script src="/js/ctrl/MailBoxController.js"></script>
<script src="/js/ctrl/MailFolderListViewModel.js"></script>
<script src="/js/ctrl/MailFolderViewModel.js"></script>
<script src="/js/ctrl/MailListViewModel.js"></script>
<script src="/js/ctrl/MailSettingsViewModel.js"></script>
<script src="/js/ctrl/MailViewModel.js"></script>
<script src="/js/ctrl/ModalDialogViewModel.js"></script>
<script src="/js/ctrl/Navigator.js"></script>
<script src="/js/ctrl/NotificationBarViewModel.js"></script>
<script src="/js/ctrl/NotificationSettingsViewModel.js"></script>
<script src="/js/ctrl/PasswordChannelViewModel.js"></script>
<script src="/js/ctrl/PaymentDataViewModel.js"></script>
<script src="/js/ctrl/ProgressDialogModel.js"></script>
<script src="/js/ctrl/RecipientInfo.js"></script>
<script src="/js/ctrl/RegistrationViewModel.js"></script>
<script src="/js/ctrl/SettingsViewModel.js"></script>
<script src="/js/ctrl/ShareFacade.js"></script>
<script src="/js/ctrl/TermsAndConditionsDialogViewModel.js"></script>
<script src="/js/ctrl/ThemeViewModel.js"></script>
<script src="/js/ctrl/ThunderbirdContactCsvConverter.js"></script>
<script src="/js/ctrl/UserController.js"></script>
<script src="/js/ctrl/UserInfoViewModel.js"></script>
<script src="/js/ctrl/View.js"></script>
<script src="/js/ctrl/ViewManager.js"></script>
<script src="/js/ctrl/ViewSlider.js"></script>
<script src="/js/ctrl/bubbleinput/Bubble.js"></script>
<script src="/js/ctrl/bubbleinput/BubbleHandler.js"></script>
<script src="/js/ctrl/bubbleinput/BubbleInputViewModel.js"></script>
<script src="/js/ctrl/bubbleinput/Suggestion.js"></script>
<script src="/js/ctrl/lang/ar.js"></script>
<script src="/js/ctrl/lang/bg_bg.js"></script>
<script src="/js/ctrl/lang/bs_ba.js"></script>
<script src="/js/ctrl/lang/ca_es.js"></script>
<script src="/js/ctrl/lang/cs_cz.js"></script>
<script src="/js/ctrl/lang/cy_gb.js"></script>
<script src="/js/ctrl/lang/da_dk.js"></script>
<script src="/js/ctrl/lang/de.js"></script>
<script src="/js/ctrl/lang/el.js"></script>
<script src="/js/ctrl/lang/en.js"></script>
<script src="/js/ctrl/lang/en_us.js"></script>
<script src="/js/ctrl/lang/es.js"></script>
<script src="/js/ctrl/lang/et_ee.js"></script>
<script src="/js/ctrl/lang/fa_af.js"></script>
<script src="/js/ctrl/lang/fa_ir.js"></script>
<script src="/js/ctrl/lang/fi.js"></script>
<script src="/js/ctrl/lang/fil_ph.js"></script>
<script src="/js/ctrl/lang/fr.js"></script>
<script src="/js/ctrl/lang/he_il.js"></script>
<script src="/js/ctrl/lang/hi_in.js"></script>
<script src="/js/ctrl/lang/hr.js"></script>
<script src="/js/ctrl/lang/hu.js"></script>
<script src="/js/ctrl/lang/id.js"></script>
<script src="/js/ctrl/lang/is.js"></script>
<script src="/js/ctrl/lang/it.js"></script>
<script src="/js/ctrl/lang/ja.js"></script>
<script src="/js/ctrl/lang/ko.js"></script>
<script src="/js/ctrl/lang/lt_lt.js"></script>
<script src="/js/ctrl/lang/mk.js"></script>
<script src="/js/ctrl/lang/nl.js"></script>
<script src="/js/ctrl/lang/no.js"></script>
<script src="/js/ctrl/lang/pl.js"></script>
<script src="/js/ctrl/lang/pt_br.js"></script>
<script src="/js/ctrl/lang/pt_pt.js"></script>
<script src="/js/ctrl/lang/ro.js"></script>
<script src="/js/ctrl/lang/ru.js"></script>
<script src="/js/ctrl/lang/sk_sk.js"></script>
<script src="/js/ctrl/lang/sl_si.js"></script>
<script src="/js/ctrl/lang/sq.js"></script>
<script src="/js/ctrl/lang/sq_al.js"></script>
<script src="/js/ctrl/lang/sr.js"></script>
<script src="/js/ctrl/lang/sv.js"></script>
<script src="/js/ctrl/lang/ta_in.js"></script>
<script src="/js/ctrl/lang/tr.js"></script>
<script src="/js/ctrl/lang/uk_ua.js"></script>
<script src="/js/ctrl/lang/vi.js"></script>
<script src="/js/ctrl/lang/zh.js"></script>
<script src="/js/ctrl/lang/zh_hant.js"></script>
<script src="/js/db/DbInterface.js"></script>
<script src="/js/db/DummyDb.js"></script>
<script src="/js/db/WebSqlDb.js"></script>
<script src="/js/entity/ContactExtension.js"></script>
<script src="/js/entity/ContactWrapper.js"></script>
<script src="/js/entity/EntityHelper.js"></script>
<script src="/js/entity/TutanotaConstants.js"></script>
<script src="/js/error/RecipientsNotFoundError.js"></script>
<script src="/js/event/EventBusClient.js"></script>
<script src="/js/event/EventBusListener.js"></script>
<script src="/js/event/ListEventTracker.js"></script>
<script src="/js/event/Observable.js"></script>
<script src="/js/event/ObservableInterface.js"></script>
<script src="/js/event/PushListEventTracker.js"></script>
<script src="/js/generated/entity/base/PersistenceResourcePostReturn.js"></script>
<script src="/js/generated/entity/monitor/ReadCounterData.js"></script>
<script src="/js/generated/entity/monitor/ReadCounterReturn.js"></script>
<script src="/js/generated/entity/sys/AccountingInfo.js"></script>
<script src="/js/generated/entity/sys/AccountingInfoEditable.js"></script>
<script src="/js/generated/entity/sys/AuthenticatedDevice.js"></script>
<script src="/js/generated/entity/sys/Authentication.js"></script>
<script src="/js/generated/entity/sys/AutoLoginDataDelete.js"></script>
<script src="/js/generated/entity/sys/AutoLoginDataGet.js"></script>
<script src="/js/generated/entity/sys/AutoLoginDataReturn.js"></script>
<script src="/js/generated/entity/sys/AutoLoginPostReturn.js"></script>
<script src="/js/generated/entity/sys/Booking.js"></script>
<script src="/js/generated/entity/sys/BookingItem.js"></script>
<script src="/js/generated/entity/sys/BookingServiceData.js"></script>
<script src="/js/generated/entity/sys/BookingsRef.js"></script>
<script src="/js/generated/entity/sys/BookingsRefEditable.js"></script>
<script src="/js/generated/entity/sys/Bucket.js"></script>
<script src="/js/generated/entity/sys/BucketPermission.js"></script>
<script src="/js/generated/entity/sys/ChangePasswordData.js"></script>
<script src="/js/generated/entity/sys/Chat.js"></script>
<script src="/js/generated/entity/sys/CreateCustomerServerPropertiesData.js"></script>
<script src="/js/generated/entity/sys/CreateCustomerServerPropertiesReturn.js"></script>
<script src="/js/generated/entity/sys/CreateGroupData.js"></script>
<script src="/js/generated/entity/sys/CreateGroupListData.js"></script>
<script src="/js/generated/entity/sys/CustomDomainData.js"></script>
<script src="/js/generated/entity/sys/CustomDomainReturn.js"></script>
<script src="/js/generated/entity/sys/Customer.js"></script>
<script src="/js/generated/entity/sys/CustomerData.js"></script>
<script src="/js/generated/entity/sys/CustomerInfo.js"></script>
<script src="/js/generated/entity/sys/CustomerInfoEditable.js"></script>
<script src="/js/generated/entity/sys/CustomerInfoReturn.js"></script>
<script src="/js/generated/entity/sys/CustomerProperties.js"></script>
<script src="/js/generated/entity/sys/CustomerPropertiesEditable.js"></script>
<script src="/js/generated/entity/sys/CustomerReturn.js"></script>
<script src="/js/generated/entity/sys/CustomerServerProperties.js"></script>
<script src="/js/generated/entity/sys/CustomerServerPropertiesEditable.js"></script>
<script src="/js/generated/entity/sys/DebitServicePutData.js"></script>
<script src="/js/generated/entity/sys/DeleteCustomerData.js"></script>
<script src="/js/generated/entity/sys/DomainInfo.js"></script>
<script src="/js/generated/entity/sys/DomainInfoEditable.js"></script>
<script src="/js/generated/entity/sys/DomainMailAddressAvailabilityData.js"></script>
<script src="/js/generated/entity/sys/DomainMailAddressAvailabilityReturn.js"></script>
<script src="/js/generated/entity/sys/EmailSenderListElement.js"></script>
<script src="/js/generated/entity/sys/EmailSenderListElementEditable.js"></script>
<script src="/js/generated/entity/sys/EntityUpdate.js"></script>
<script src="/js/generated/entity/sys/Exception.js"></script>
<script src="/js/generated/entity/sys/ExternalPropertiesReturn.js"></script>
<script src="/js/generated/entity/sys/ExternalUserReference.js"></script>
<script src="/js/generated/entity/sys/File.js"></script>
<script src="/js/generated/entity/sys/FileEditable.js"></script>
<script src="/js/generated/entity/sys/Group.js"></script>
<script src="/js/generated/entity/sys/GroupInfo.js"></script>
<script src="/js/generated/entity/sys/GroupMember.js"></script>
<script src="/js/generated/entity/sys/GroupMembership.js"></script>
<script src="/js/generated/entity/sys/GroupRoot.js"></script>
<script src="/js/generated/entity/sys/IncomingShare.js"></script>
<script src="/js/generated/entity/sys/Invoice.js"></script>
<script src="/js/generated/entity/sys/InvoiceEditable.js"></script>
<script src="/js/generated/entity/sys/InvoiceInfo.js"></script>
<script src="/js/generated/entity/sys/InvoiceInfoEditable.js"></script>
<script src="/js/generated/entity/sys/KeyPair.js"></script>
<script src="/js/generated/entity/sys/Login.js"></script>
<script src="/js/generated/entity/sys/MailAddressAlias.js"></script>
<script src="/js/generated/entity/sys/MailAddressAliasServiceData.js"></script>
<script src="/js/generated/entity/sys/MailAddressAliasServiceDataDelete.js"></script>
<script src="/js/generated/entity/sys/MailAddressAliasServiceReturn.js"></script>
<script src="/js/generated/entity/sys/MailAddressAvailabilityData.js"></script>
<script src="/js/generated/entity/sys/MailAddressAvailabilityReturn.js"></script>
<script src="/js/generated/entity/sys/MembershipAddData.js"></script>
<script src="/js/generated/entity/sys/MembershipRemoveData.js"></script>
<script src="/js/generated/entity/sys/MigrateGroupInfosData.js"></script>
<script src="/js/generated/entity/sys/MigratedGroupInfoData.js"></script>
<script src="/js/generated/entity/sys/OutgoingShare.js"></script>
<script src="/js/generated/entity/sys/PaymentDataServiceGetReturn.js"></script>
<script src="/js/generated/entity/sys/PaymentDataServicePutData.js"></script>
<script src="/js/generated/entity/sys/PaymentDataServicePutReturn.js"></script>
<script src="/js/generated/entity/sys/PdfInvoiceServiceData.js"></script>
<script src="/js/generated/entity/sys/PdfInvoiceServiceReturn.js"></script>
<script src="/js/generated/entity/sys/Permission.js"></script>
<script src="/js/generated/entity/sys/PhoneNumber.js"></script>
<script src="/js/generated/entity/sys/PhoneNumberTypeData.js"></script>
<script src="/js/generated/entity/sys/PhoneNumberTypeReturn.js"></script>
<script src="/js/generated/entity/sys/PremiumFeatureData.js"></script>
<script src="/js/generated/entity/sys/PremiumFeatureReturn.js"></script>
<script src="/js/generated/entity/sys/PriceData.js"></script>
<script src="/js/generated/entity/sys/PriceItemData.js"></script>
<script src="/js/generated/entity/sys/PriceRequestData.js"></script>
<script src="/js/generated/entity/sys/PriceServiceData.js"></script>
<script src="/js/generated/entity/sys/PriceServiceReturn.js"></script>
<script src="/js/generated/entity/sys/PublicKeyData.js"></script>
<script src="/js/generated/entity/sys/PublicKeyReturn.js"></script>
<script src="/js/generated/entity/sys/PushIdentifier.js"></script>
<script src="/js/generated/entity/sys/PushIdentifierList.js"></script>
<script src="/js/generated/entity/sys/RegistrationCaptchaServiceData.js"></script>
<script src="/js/generated/entity/sys/RegistrationCaptchaServiceReturn.js"></script>
<script src="/js/generated/entity/sys/RegistrationConfigReturn.js"></script>
<script src="/js/generated/entity/sys/RegistrationReturn.js"></script>
<script src="/js/generated/entity/sys/RegistrationServiceData.js"></script>
<script src="/js/generated/entity/sys/RegistrationVerifyDomainDataPost.js"></script>
<script src="/js/generated/entity/sys/RegistrationVerifyDomainDataPut.js"></script>
<script src="/js/generated/entity/sys/RegistrationVerifyDomainPostReturn.js"></script>
<script src="/js/generated/entity/sys/ResetPasswordData.js"></script>
<script src="/js/generated/entity/sys/RootInstance.js"></script>
<script src="/js/generated/entity/sys/SaltData.js"></script>
<script src="/js/generated/entity/sys/SaltReturn.js"></script>
<script src="/js/generated/entity/sys/SecondFactorAuthAllowedReturn.js"></script>
<script src="/js/generated/entity/sys/SecondFactorAuthData.js"></script>
<script src="/js/generated/entity/sys/SendRegistrationCodeData.js"></script>
<script src="/js/generated/entity/sys/SendRegistrationCodeReturn.js"></script>
<script src="/js/generated/entity/sys/ShareData.js"></script>
<script src="/js/generated/entity/sys/Shares.js"></script>
<script src="/js/generated/entity/sys/StringWrapper.js"></script>
<script src="/js/generated/entity/sys/SwitchAccountTypeData.js"></script>
<script src="/js/generated/entity/sys/SystemKeysReturn.js"></script>
<script src="/js/generated/entity/sys/UpdatePermissionKeyData.js"></script>
<script src="/js/generated/entity/sys/User.js"></script>
<script src="/js/generated/entity/sys/UserAreaGroups.js"></script>
<script src="/js/generated/entity/sys/UserData.js"></script>
<script src="/js/generated/entity/sys/UserDataDelete.js"></script>
<script src="/js/generated/entity/sys/UserExternalAuthInfo.js"></script>
<script src="/js/generated/entity/sys/UserIdData.js"></script>
<script src="/js/generated/entity/sys/UserIdReturn.js"></script>
<script src="/js/generated/entity/sys/UserReturn.js"></script>
<script src="/js/generated/entity/sys/VerifyRegistrationCodeData.js"></script>
<script src="/js/generated/entity/sys/Version.js"></script>
<script src="/js/generated/entity/sys/VersionData.js"></script>
<script src="/js/generated/entity/sys/VersionReturn.js"></script>
<script src="/js/generated/entity/sys/WebsocketWrapper.js"></script>
<script src="/js/generated/entity/tutanota/Attachment.js"></script>
<script src="/js/generated/entity/tutanota/AttachmentFromExternal.js"></script>
<script src="/js/generated/entity/tutanota/AttachmentKeyData.js"></script>
<script src="/js/generated/entity/tutanota/Contact.js"></script>
<script src="/js/generated/entity/tutanota/ContactAddress.js"></script>
<script src="/js/generated/entity/tutanota/ContactAddressEditable.js"></script>
<script src="/js/generated/entity/tutanota/ContactEditable.js"></script>
<script src="/js/generated/entity/tutanota/ContactList.js"></script>
<script src="/js/generated/entity/tutanota/ContactMailAddress.js"></script>
<script src="/js/generated/entity/tutanota/ContactMailAddressEditable.js"></script>
<script src="/js/generated/entity/tutanota/ContactPhoneNumber.js"></script>
<script src="/js/generated/entity/tutanota/ContactPhoneNumberEditable.js"></script>
<script src="/js/generated/entity/tutanota/ContactSocialId.js"></script>
<script src="/js/generated/entity/tutanota/ContactSocialIdEditable.js"></script>
<script src="/js/generated/entity/tutanota/ConversationEntry.js"></script>
<script src="/js/generated/entity/tutanota/CreateExternalUserGroupData.js"></script>
<script src="/js/generated/entity/tutanota/CreateFileData.js"></script>
<script src="/js/generated/entity/tutanota/CreateFileReturn.js"></script>
<script src="/js/generated/entity/tutanota/CreateFolderData.js"></script>
<script src="/js/generated/entity/tutanota/CreateFolderReturn.js"></script>
<script src="/js/generated/entity/tutanota/CreateMailFolderData.js"></script>
<script src="/js/generated/entity/tutanota/CreateMailFolderReturn.js"></script>
<script src="/js/generated/entity/tutanota/DataBlock.js"></script>
<script src="/js/generated/entity/tutanota/DeleteFileData.js"></script>
<script src="/js/generated/entity/tutanota/DeleteMailData.js"></script>
<script src="/js/generated/entity/tutanota/DeleteMailFolderData.js"></script>
<script src="/js/generated/entity/tutanota/DraftAttachment.js"></script>
<script src="/js/generated/entity/tutanota/DraftCreateData.js"></script>
<script src="/js/generated/entity/tutanota/DraftCreateReturn.js"></script>
<script src="/js/generated/entity/tutanota/DraftData.js"></script>
<script src="/js/generated/entity/tutanota/DraftRecipient.js"></script>
<script src="/js/generated/entity/tutanota/DraftUpdateData.js"></script>
<script src="/js/generated/entity/tutanota/DraftUpdateReturn.js"></script>
<script src="/js/generated/entity/tutanota/EncryptTutanotaPropertiesData.js"></script>
<script src="/js/generated/entity/tutanota/EncryptedMailAddress.js"></script>
<script src="/js/generated/entity/tutanota/ExternalUserData.js"></script>
<script src="/js/generated/entity/tutanota/FeedbackData.js"></script>
<script src="/js/generated/entity/tutanota/File.js"></script>
<script src="/js/generated/entity/tutanota/FileData.js"></script>
<script src="/js/generated/entity/tutanota/FileDataDataGet.js"></script>
<script src="/js/generated/entity/tutanota/FileDataDataPost.js"></script>
<script src="/js/generated/entity/tutanota/FileDataDataReturn.js"></script>
<script src="/js/generated/entity/tutanota/FileDataReturnPost.js"></script>
<script src="/js/generated/entity/tutanota/FileSystem.js"></script>
<script src="/js/generated/entity/tutanota/ImapFolder.js"></script>
<script src="/js/generated/entity/tutanota/ImapSyncConfiguration.js"></script>
<script src="/js/generated/entity/tutanota/InboxRule.js"></script>
<script src="/js/generated/entity/tutanota/InboxRuleEditable.js"></script>
<script src="/js/generated/entity/tutanota/InitGroupData.js"></script>
<script src="/js/generated/entity/tutanota/InternalRecipientKeyData.js"></script>
<script src="/js/generated/entity/tutanota/Mail.js"></script>
<script src="/js/generated/entity/tutanota/MailAddress.js"></script>
<script src="/js/generated/entity/tutanota/MailBody.js"></script>
<script src="/js/generated/entity/tutanota/MailBox.js"></script>
<script src="/js/generated/entity/tutanota/MailFolder.js"></script>
<script src="/js/generated/entity/tutanota/MailFolderRef.js"></script>
<script src="/js/generated/entity/tutanota/MailHeaders.js"></script>
<script src="/js/generated/entity/tutanota/MoveMailData.js"></script>
<script src="/js/generated/entity/tutanota/NewDraftAttachment.js"></script>
<script src="/js/generated/entity/tutanota/NotificationMail.js"></script>
<script src="/js/generated/entity/tutanota/PasswordAutoAuthenticationReturn.js"></script>
<script src="/js/generated/entity/tutanota/PasswordChannelPhoneNumber.js"></script>
<script src="/js/generated/entity/tutanota/PasswordChannelReturn.js"></script>
<script src="/js/generated/entity/tutanota/PasswordMessagingData.js"></script>
<script src="/js/generated/entity/tutanota/PasswordMessagingReturn.js"></script>
<script src="/js/generated/entity/tutanota/PasswordRetrievalData.js"></script>
<script src="/js/generated/entity/tutanota/PasswordRetrievalReturn.js"></script>
<script src="/js/generated/entity/tutanota/ReceiveInfoServiceData.js"></script>
<script src="/js/generated/entity/tutanota/Recipient.js"></script>
<script src="/js/generated/entity/tutanota/SecureExternalRecipientKeyData.js"></script>
<script src="/js/generated/entity/tutanota/SendDraftData.js"></script>
<script src="/js/generated/entity/tutanota/SendDraftReturn.js"></script>
<script src="/js/generated/entity/tutanota/SendMailData.js"></script>
<script src="/js/generated/entity/tutanota/SendMailFromExternalData.js"></script>
<script src="/js/generated/entity/tutanota/SendMailFromExternalReturn.js"></script>
<script src="/js/generated/entity/tutanota/SendMailReturn.js"></script>
<script src="/js/generated/entity/tutanota/SendUnsecureMailData.js"></script>
<script src="/js/generated/entity/tutanota/SendUnsecureMailReturn.js"></script>
<script src="/js/generated/entity/tutanota/Subfiles.js"></script>
<script src="/js/generated/entity/tutanota/TutanotaProperties.js"></script>
<script src="/js/generated/entity/tutanota/TutanotaPropertiesEditable.js"></script>
<script src="/js/generated/entity/tutanota/UnsecureAttachment.js"></script>
<script src="/js/generated/entity/tutanota/UnsecureRecipient.js"></script>
<script src="/js/generated/entity/tutanota/UpdateFileData.js"></script>
<script src="/js/generated/entity/tutanota/WelcomeMailData.js"></script>
<script src="/js/gui/BubbleInputGui.js"></script>
<script src="/js/gui/ContactView.js"></script>
<script src="/js/gui/ExternalLoginView.js"></script>
<script src="/js/gui/FastMessageView.js"></script>
<script src="/js/gui/FileView.js"></script>
<script src="/js/gui/LoginView.js"></script>
<script src="/js/gui/MailView.js"></script>
<script src="/js/gui/NotFoundView.js"></script>
<script src="/js/gui/NotSupportedView.js"></script>
<script src="/js/gui/RegistrationView.js"></script>
<script src="/js/gui/SettingsView.js"></script>
<script src="/js/gui/SwipeSlider.js"></script>
<script src="/js/gui/gui.js"></script>
<script src="/js/index/Indexer.js"></script>
<script src="/js/legacy/Legacy.js"></script>
<script src="/js/native/AndroidFile.js"></script>
<script src="/js/native/ConfigApp.js"></script>
<script src="/js/native/ConfigBrowser.js"></script>
<script src="/js/native/ConfigFacade.js"></script>
<script src="/js/native/ContactApp.js"></script>
<script src="/js/native/ContactBrowser.js"></script>
<script src="/js/native/ContactInterface.js"></script>
<script src="/js/native/CryptoBrowser.js"></script>
<script src="/js/native/CryptoInterface.js"></script>
<script src="/js/native/DeviceConfig.js"></script>
<script src="/js/native/FileFacade.js"></script>
<script src="/js/native/FileFacadeAndroidApp.js"></script>
<script src="/js/native/FileFacadeBrowser.js"></script>
<script src="/js/native/KeyPair.js"></script>
<script src="/js/native/NotificationApp.js"></script>
<script src="/js/native/NotificationBrowser.js"></script>
<script src="/js/native/NotificationInterface.js"></script>
<script src="/js/native/Phone.js"></script>
<script src="/js/native/PhoneInterface.js"></script>
<script src="/js/native/PrivateKey.js"></script>
<script src="/js/native/PublicKey.js"></script>
<script src="/js/native/PushServiceApp.js"></script>
<script src="/js/native/PushServiceBrowser.js"></script>
<script src="/js/native/PushServiceInterface.js"></script>
<script src="/js/native/RsaUtils.js"></script>
<script src="/js/rest/EntityRestCache.js"></script>
<script src="/js/rest/EntityRestClient.js"></script>
<script src="/js/rest/EntityRestDummy.js"></script>
<script src="/js/rest/EntityRestInterface.js"></script>
<script src="/js/rest/ResourceConstants.js"></script>
<script src="/js/rest/RestClient.js"></script>
<script src="/js/security/CajaSanitizer.js"></script>
<script src="/js/security/HtmlSanitizer.js"></script>
<script src="/js/util/ArrayUtils.js"></script>
<script src="/js/util/Assert.js"></script>
<script src="/js/util/BookingUtils.js"></script>
<script src="/js/util/ClientDetector.js"></script>
<script src="/js/util/ColumnContentLoader.js"></script>
<script src="/js/util/CountryList.js"></script>
<script src="/js/util/CsvConverter.js"></script>
<script src="/js/util/DataFile.js"></script>
<script src="/js/util/EncodingConverter.js"></script>
<script src="/js/util/Environment.js"></script>
<script src="/js/util/ErrorFactory.js"></script>
<script src="/js/util/EventListenerManager.js"></script>
<script src="/js/util/Exporter.js"></script>
<script src="/js/util/FileUtils.js"></script>
<script src="/js/util/Formatter.js"></script>
<script src="/js/util/FunctionUtils.js"></script>
<script src="/js/util/KeyManager.js"></script>
<script src="/js/util/ListSelectionUtils.js"></script>
<script src="/js/util/LocalStore.js"></script>
<script src="/js/util/PasswordUtils.js"></script>
<script src="/js/util/StateMachine.js"></script>
<script src="/js/util/StringUtils.js"></script>
<script src="/js/util/SubmitStateMachine.js"></script>
<script src="/js/util/bind.js"></script>
<!-- endinject -->
<script src="/js/util/init.js"></script>
<!-- endbuild -->

<div id="tutanota" data-bind='template: { name: "tutanota-template",  data: tutao.tutanota.app }'></div>

<script type="text/html"  id="tutanota-template">
	<input type="text" id="hiddenInput"/>
    <button id="measureButton" class="fontImage confirm" data-bind="css: { iconOnly: tutao.tutanota.util.ClientDetector.isMobileDevice() }"></button>
	<!-- div id="dragObject" style="z-index:2; width: 100px; height: 100px; background: red; position: absolute;" dragObject="true"></div-->

	<div id="viewContainer" data-bind="css: { blur: tutao.locator.viewManager.isModalDialogVisible() }">
		<div id="mailContent" class="content" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.mailView, finishedCallback: tutao.locator.navigator.viewSwitchFinished">
			<div id="mailFolderColumn" class="viewColumn" data-bind="with: tutao.locator.mailFolderListViewModel">
                <div class="actions" data-bind="template: { name: 'buttonBar-template',  data: buttonBarViewModel }"></div>
				<div id="innerMailFolderColumn" class="scrollable menuList">
                    <div class="mailFolders" data-bind="template: { name: 'mailFolder-template',  data: { vm: $data, folders: getMailFolders } }"></div>
				</div>
			</div>
			<div id="searchAndMailListColumn" class="viewColumn" data-bind="with: tutao.locator.mailListViewModel">
                <div class="actions" data-bind="template: { name: 'buttonBar-template',  data: buttonBarViewModel }"></div>
				<div id="searchAndMailList" data-bind="swipe: handleSwipeOnElement">
					<section id="mailList" class="list scrollable">
						<div id="innerMailList" data-bind="visible: !showSpinner(), foreach: getMails(), style: { borderTopWidth: (!tutao.locator.dao.isSupported() && getMails().length > 0) ? '7px' : '0px', borderBottomWidth: (tutao.locator.dao.isSupported() || getMails().length > 0) ? '7px' : '0px' }">
							<div class="listElement" >
								<div class="listElementContent">
									<div class="listElementButton fontImage buttonLeft" data-bind="lang:$parent.getSwipeRightLabel().textId, css: $parent.getSwipeRightLabel().iconId" ></div>
									<div class="mailInList" data-bind="attr: { id: 'mailInList' + getId()[0] + getId()[1] }, fastClick: $parent.mailClicked, css: {selected: $parent.isSelectedMail($data), unreadFont: getUnread()}, drag: getId()[1]">
										<div class="icons">
                                            <div class="mailHeaderImage fontImage mail-new-small" data-bind="visible: getState() == tutao.entity.tutanota.TutanotaConstants.MAIL_STATE_DRAFT, attr: {title: tutao.lang('draft_alt'), alt: tutao.lang('draft_alt')}"></div>
                                            <div class="mailHeaderImage fontImage reply-small" data-bind="visible: getReplyType() == tutao.entity.tutanota.TutanotaConstants.MAIL_REPLY_TYPE_REPLY, attr: {title: tutao.lang('mailReplyTypeReply_alt'), alt: tutao.lang('mailReplyTypeReply_alt')}"></div>
                                            <div class="mailHeaderImage fontImage forward-small" data-bind="visible: getReplyType() == tutao.entity.tutanota.TutanotaConstants.MAIL_REPLY_TYPE_FORWARD, attr: {title: tutao.lang('mailReplyTypeForward_alt'), alt: tutao.lang('mailReplyTypeForward_alt')}"></div>
                                            <div class="mailHeaderImage fontImage reply-forward-small" data-bind="visible: getReplyType() == tutao.entity.tutanota.TutanotaConstants.MAIL_REPLY_TYPE_REPLY_FORWARD, attr: {title: tutao.lang('mailReplyTypeReplyForward_alt'), alt: tutao.lang('mailReplyTypeReplyForward_alt')}"></div>
                                            <div class="mailHeaderImage fontImage attachment-small" data-bind="visible: (getAttachments().length > 0), attr: {alt: tutao.lang('mailWithAttachment_alt')}"></div>
											<div class="mailHeaderImage fontImage trash-small" data-bind="visible: getTrashed(), attr: {alt: tutao.lang('trashedMail_alt')}"></div>
											<div class="mailHeaderImage fontImage lock-closed-small" data-bind="visible: getConfidential(), attr: {title: tutao.lang('confidentialMail_alt'), alt: tutao.lang('confidentialMail_alt')}"></div>
                                            <div class="mailHeaderImage fontImage warn-small" data-bind="visible: !getEntityHelper().getSessionKey(), attr: {title: tutao.lang('corrupted_msg'), alt: tutao.lang('corrupted_msg')}"></div>
										</div>
										<div class="subject" data-bind="text: (getSubject().trim()) ? getSubject() : tutao.lang('emptyString_msg')"></div>
										<div class="mailInfo">
											<!--<div class="bullet" style="background-color: #ff0000"></div><div class="bullet" style="background-color: #00ff00"></div><div class="bullet" style="background-color: #00ffff"></div><div class="bullet" style="background-color: #ffff00"></div><div class="bullet" style="background-color: #ff00ff"></div>-->
											<div class="date">
												<time data-bind="text: tutao.tutanota.util.Formatter.formatDateTimeFromYesterdayOn(getSentDate()), attr: { datetime: tutao.tutanota.util.Formatter.dateToDashString($data.getSentDate()) }"></time>
											</div>
											<div class="senderOrRecipient">
												<span data-bind="text: tutao.tutanota.ctrl.MailListViewModel.getListSenderOrRecipientString($data)"></span>
											</div>
										</div>
									</div>
									<div class="listElementButton fontImage buttonRight" data-bind="lang:$parent.getSwipeLeftLabel().textId, css: $parent.getSwipeLeftLabel().iconId"></div>
								</div>
							</div>
						</div>
                        <div class="loadMoreElement" data-bind="fastClick: function() { tutao.locator.mailFolderListViewModel.selectedFolder().loadMoreMails(); }, visible: tutao.locator.mailFolderListViewModel.selectedFolder().moreAvailable() && !showSpinner()">
                            <span data-bind="text: tutao.lang('loadMoreMails_action'), visible: !tutao.locator.mailFolderListViewModel.selectedFolder().loading()"></span>
							<div class="fontImage spinner" data-bind="visible: tutao.locator.mailFolderListViewModel.selectedFolder().loading()"></div>
                        </div>
                        <div class="infoMessage centered" data-bind="lang: 'noMails_msg', visible: (getMails().length == 0) && !tutao.locator.mailFolderListViewModel.selectedFolder().loading() && !showSpinner()"></div>
                        <div class="infoMessage centered" data-bind="visible: showSpinner()">
							<div class="fontImage spinner"></div>
                        </div>
					</section>
				</div>
			</div>

			<div id="conversationColumn" class="viewColumn" data-bind="with: tutao.locator.mailViewModel">
                <div class="actions" data-bind='css: { mobile: tutao.tutanota.util.ClientDetector.isMobileDevice() && !isComposingState() }, template: { name: "buttonBar-template",  data: buttonBarViewModel() }'></div>
                <div class="infoMessage centered" data-bind="text: getMailSelectionMessage(), visible: (mail() == null && !showSpinner())"></div>
                <div class="infoMessage centered" data-bind="visible: showSpinner() || (isComposingState() && mail().busy())">
                    <div class="fontImage spinner"></div>
                </div>
				<div id="innerConversationColumn" data-bind="visible: mail() && !showSpinner() && !(isComposingState() && mail().busy())">
					<div class="notificationBar" data-bind='visible : notificationBarViewModel.isVisible '>
						<div class="notificationMessage" data-bind="lang: notificationBarViewModel.messageTextId"></div>
						<div class="notificationButtons" data-bind='css: { mobile: tutao.tutanota.util.ClientDetector.isMobileDevice() && !isComposingState() }, template: { name: "buttonBar-template",  data: notificationBarViewModel.buttonBarViewModel }'>

						</div>
					</div>
					<section class="conversation scrollable" data-bind="with: mail">
						<!-- ko if: !$parent.isComposingState() -->
							<div id="readMailWrapper" class="mailWrapper">
								<section class="mail">
									<header>
										<div class="headerTable">
											<div class="headerLine">
												<div class="name" data-bind="lang: 'from_label'"></div>
												<div class="value">
                                                    <div class="ellipsisTable">
                                                        <div class="bubble displayRecipient" data-bind="with: createBubbleFromMailAddress(mail.getSender(),'meDativ_label', tutao.entity.tutanota.TutanotaConstants.INBOX_RULE_SENDER_EQUALS)"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div></div>
                                                    </div>
												</div>
                                                <div class="value dateValue" data-bind="text: tutao.tutanota.util.Formatter.formatDateTime(mail.getSentDate())"></div>
                                            </div>
											<div class="headerLine" data-bind="if: isEnvelopeSenderVisible()">
												<div class="name" data-bind="lang: 'mailEnvelopeSender_label'"></div>
												<div class="value">
													<div class="ellipsisTable">
														<div class="bubble displayRecipient" data-bind="with: createBubbleFromMailAddress(new tutao.entity.tutanota.MailAddress(mail).setAddress(mail.getDifferentEnvelopeSender()).setName(''),'meNominative_label', null)"><div class="bubbleText containsBubbleIcon" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div><div class="bubbleIcon" data-bind="fastClick: $parent.showSenderWarning"><div class="fontImage warn-small"></div></div></div>
													</div>
												</div>
											</div>
                                        </div>
                                        <div class="headerTable">
											<!-- ko if: mail.getToRecipients().length > 0 -->
												<div class="headerLine">
													<div class="name" data-bind="lang: 'to_label'"></div>
													<div class="value">
                                                        <div class="ellipsisTable">
														<!-- the next statement must be written in one line, otherwise there are whitespaces between the recipient names -->
														<!-- ko foreach: mail.getToRecipients() --><!-- ko ifnot: $data == $parent.mail.getToRecipients()[0] --><span>,&nbsp;</span><!-- /ko --><div class="bubble displayRecipient" data-bind="with: $parent.createBubbleFromMailAddress($data,'meAccusative_label', tutao.entity.tutanota.TutanotaConstants.INBOX_RULE_RECIPIENT_TO_EQUALS)"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div></div><!-- /ko -->
                                                        </div>
													</div>
												</div>
											<!-- /ko -->
											<!-- ko if: mail.getCcRecipients().length > 0 -->
												<div class="headerLine">
													<div class="name" data-bind="lang: 'cc_label'"></div>
													<div class="value">
                                                        <div class="ellipsisTable">
														<!-- ko foreach: mail.getCcRecipients() --><!-- ko ifnot: $data == $parent.mail.getCcRecipients()[0] --><span>,&nbsp;</span><!-- /ko --><div class="bubble displayRecipient" data-bind="with: $parent.createBubbleFromMailAddress($data,'meNominative_label', tutao.entity.tutanota.TutanotaConstants.INBOX_RULE_RECIPIENT_CC_EQUALS)"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div></div><!-- /ko -->
                                                        </div>
													</div>
												</div>
											<!-- /ko -->
											<!-- ko if: mail.getBccRecipients().length > 0 -->
												<div class="headerLine">
													<div class="name" data-bind="lang: 'bcc_label'"></div>
													<div class="value">
                                                        <div class="ellipsisTable">
														<!-- ko foreach: mail.getBccRecipients() --><!-- ko ifnot: $data == $parent.mail.getBccRecipients()[0] --><span>,&nbsp;</span><!-- /ko --><div class="bubble displayRecipient" data-bind="with: $parent.createBubbleFromMailAddress($data,'meNominative_label', tutao.entity.tutanota.TutanotaConstants.INBOX_RULE_RECIPIENT_BCC_EQUALS)"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div></div><!-- /ko -->
                                                        </div>
													</div>
												</div>
											<!-- /ko -->
											<!-- ko if: mail.getReplyTos().length > 0 -->
											<div class="headerLine">
												<div class="name" data-bind="lang: 'replyTo_label'"></div>
												<div class="value">
													<div class="ellipsisTable">
														<!-- ko foreach: mail.getReplyTos() --><!-- ko ifnot: $data == $parent.mail.getReplyTos()[0] --><span>,&nbsp;</span><!-- /ko --><div class="bubble displayRecipient" data-bind="with: $parent.createBubbleFromMailAddress($data,'meAccusative_label', null)"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click"></div></div><!-- /ko -->
													</div>
												</div>
											</div>
											<!-- /ko -->
										</div>
										<div class="mailSubject" data-bind="text: mail.getSubject()"></div>
										<div class="attachments" data-bind="foreach: {data: attachments}">
											<div class="download" data-bind="fastClick: function() { $parent.downloadAttachment($data) }, attr: { id: 'downloadButton_' + getId()[1], title: getName() }">
												<div class="mimeImage">
													<div class="fontImage" data-bind="class: $parent.getAttachmentImage($data)"></div>
												</div>
												<div class="fileName" data-bind="text: getName()"></div>
												<div class="fileSize" data-bind="text: '(' + tutao.tutanota.util.Formatter.formatFileSize(getSize()) + ')'"></div>
											</div>
										</div>
									</header>
									<div class="mailBody" data-bind="html: bodyTextWithoutQuotation"></div>
									<div class="mailBodyQuotation" data-bind="html: bodyTextQuotation"></div>
									<!--
									<div class="mailBodyQuotation" data-bind="html: bodyTextQuotation, slideVisible: bodyTextQuotationVisible"></div>
									<div>
										<div class="switch toggleQuotation" data-bind="lang: (bodyTextQuotationVisible() ? 'hideQuotation_action' : 'showQuotation_action'), visible: bodyTextQuotation() != '', fastClick: toggleQuotationVisible"></div>
									</div>
									-->
								</section>
							</div>
						<!-- /ko -->
						<!-- ko if: $parent.isComposingState() -->
							<div id="composeMailWrapper" class="mailWrapper">
								<section class="mail" data-bind="event: { dragover: handleDragOver, drop: attachDroppedFiles }">
									<header>
										<!-- ko if: tutao.locator.userController.isInternalUserLoggedIn() -->
                                        <div class="headerTable">
                                            <div class="headerLine">
                                                <div class="name edit inputLine" data-bind="lang: 'to_label'"></div>
                                                <div class="value edit inputLine" id="composer_to">
                                                        <div data-bind='template: { name: "bubbleinput-template",  data: {vm: toRecipientsViewModel, tabindex: 10 } }'></div>
                                                </div>
                                                <div class="value inputLine bccButtonValue">
                                                    <button class="bccButton single fontImage dropdown" tabIndex="18" data-bind="visible: !busy(), css: { rotated: showBccCc }, fastClick:toggleCcAndBccVisibility"></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="headerTable faded" data-bind="fadeVisible: showBccCc()">
                                            <div class="headerLine" >
                                                <div class="name edit inputLine" data-bind="lang: 'cc_label'"></div>
                                                <div class="value edit inputLine" id="composer_cc">
                                                    <div data-bind='template: { name: "bubbleinput-template",  data: {vm: ccRecipientsViewModel, tabindex: 11 } }'></div>
                                                </div>
                                            </div>
                                            <div class="headerLine">
                                                <div class="name edit inputLine" data-bind="lang: 'bcc_label'"></div>
                                                <div class="value edit inputLine" id="composer_bcc">
                                                    <div data-bind='template: { name: "bubbleinput-template",  data: {vm: bccRecipientsViewModel, tabindex: 12 } }'></div>
                                                </div>
                                            </div>
										</div>
										<div class="headerTable faded" data-bind="fadeVisible: showBccCc()">
                                            <div class="headerLine" >
                                                <div class="name edit inputLine" data-bind="lang: 'sender_label'"></div>
                                                <div class="value edit inputLine" id="sender_address">
                                                    <div class="senderSelection">
                                                        <select data-bind="options: availableSenders, value: sender, enable: !busy()"></select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
										<!-- /ko -->
										<!-- ko if: tutao.locator.userController.isExternalUserLoggedIn() -->
                                        <div class="headerTable">
                                            <div class="headerLine inputLine">
                                                <div class="name" data-bind="lang: 'to_label'"></div>
                                                <div class="value" id="composer_to">
                                                    <!-- ko foreach: toRecipientsViewModel.bubbles -->
                                                        <span data-bind="text: text"></span>
                                                    <!-- /ko -->
                                                </div>
                                            </div>
                                        </div>
										<!-- /ko -->
                                        <div class="headerTable">
                                            <div class="headerLine">
                                                <div class="name edit inputLine" data-bind="lang: 'subject_label'"></div>
                                                <div class="value edit inputLine" id="composer_subject">
                                                    <input class="composeSubjectInput" type="text" tabindex="14" data-bind="value: composerSubject, valueUpdate: 'input', hasfocus: subjectFieldFocused, enable: !busy()"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="headerTable">
                                            <div class="headerLine">
                                                <div class="confidentialStateMessage" data-bind="lang: getConfidentialStateMessageId()"></div>
                                            </div>
                                        </div>
                                        <div class="composer_confidential" data-bind="fadeVisible: containsExternalRecipients()">
                                            <button class="confidentialButton single fontImage" tabindex="15" data-bind="lang: (confidentialButtonSecure())? 'confidential_action' : 'nonConfidential_action', fadeVisible: containsExternalRecipients() && !busy(), attr: {title: (confidentialButtonSecure() ? tutao.lang('secureMail_title') : tutao.lang('unsecureMail_title'))}, fastClick: switchSecurity, css: { off: !confidentialButtonSecure(), 'lock-closed': confidentialButtonSecure, 'lock-open': !confidentialButtonSecure() }"></button>
                                            <button class="showPasswordChannelColumn single" tabindex="16" data-bind="fadeVisible: !isPasswordChannelColumnVisible() && confidentialButtonSecure() && containsExternalRecipients() && !busy(), attr: {title: tutao.lang('showPasswordChannelColumn_title')}, fastClick: showPasswordChannelColumn">
                                                <div class="showPasswordChannelColumnText" data-bind="lang: 'passwords_label'"></div>
                                                <div class="showPasswordChannelColumnIcon fontImage rightIndicator"></div>
                                            </button>
                                        </div>
										<div class="attachments">
											<!-- ko foreach: { data: _attachments } -->
                                                <!-- we need to use the click binding instead of fastClick here because otherwise the attachment is also downloaded on mobile devices when tapping "remove" -->
												<div class="download" data-bind="click: $parent.downloadNewAttachment, attr: { title: getName() }">
													<div class="mimeImage">
														<div class="fontImage" data-bind="class: $parent.getAttachmentImage($data)"></div>
													</div>
													<div class="fileName" data-bind="text: getName()"></div>
													<div class="fileSize" data-bind="text: '(' + tutao.tutanota.util.Formatter.formatFileSize(getSize()) + ')'"></div>
													<div class="removeAttachment" data-bind="fastClick: $parent.removeAttachment">
														<div class="fontImage cancel" data-bind="attr: {title: tutao.lang('removeAttachment_alt') }"></div>
													</div>
												</div>
											<!-- /ko -->
										</div>
									</header>
                                    <div class="composeBody" tabindex="17" onFocus="window.scrollTo(0, 0);" data-bind="attr: { contenteditable: (busy()) ? 'false' : 'true' }, event: {keydown: tutao.tutanota.gui.MailView.handleMailComposerReturnKey}"><br></div>
									<!-- for test sending html emails. also uncomment wysihtml5 initialization in MailViewModel._createMail() -->
									<!-- <form><textarea id="composeBodyTextArea" class="inputArea" data-bind="value: composerBody, valueUpdate: 'change'" autofocus></textarea></form> -->
								</section>
							</div>
						<!-- /ko -->
					</section>
				</div>
			</div>
			<div id="passwordChannelColumn" class="viewColumn" data-bind="with: tutao.locator.passwordChannelViewModel">
				<div id="innerPasswordChannelColumn" class="scrollable">
					<div id="passwordChannelListWrapper">
						<section id="passwordChannelList" data-bind="fadeVisible: getSecureExternalRecipients().length > 0">
							<h2 data-bind="lang: 'passwordTransmission_label'"></h2>
                            <div id="changeNotificationMailLanguage">
                                <span class="descriptionFont" data-bind="lang: 'changeNotificationMailLanguage_msg'"></span>
                                <select data-bind="options: availableLanguages, value: selectedLanguage, optionsText: function(item){return tutao.lang(item.textId);}"></select>
                            </div>
                            <div id="passwordChannelDescription" class="descriptionFont" data-bind="text: getPasswordChannelDescription()"></div>
							<!-- ko foreach: { data: getSecureExternalRecipients(), afterAdd: tutao.tutanota.gui.slideAfterAdd, beforeRemove: tutao.tutanota.gui.slideBeforeRemove } -->
								<div data-bind="attr:{id:'passwordChannelEntry_' + getMailAddress()}">
									<hr />
									<br>
									<button class="editContactButton single" tabindex="21" data-bind="lang: 'edit_action', visible: isExistingContact(), fastClick: function() { setTimeout(function() { $parent.editRecipient($data); }, 0); }"></button>
									<div class="recipientNameAndAddress">
										<!-- ko if: getName() != "" -->
											<span class="emphasizedText" data-bind="text: getName()"></span><br>
											<span data-bind="text: getMailAddress()"></span>
										<!-- /ko -->
										<!-- ko if: getName() == "" -->
											<span class="emphasizedText" data-bind="text: getMailAddress()"></span><br>
										<!-- /ko -->
									</div>
                                    <div class="record">
                                        <div class="recordName" data-bind="lang: 'presharedPassword_label'"></div>
                                        <div class="recordData">
                                            <div class="row">
                                                <input type="text" tabindex="20" class="recordValue inputField wide preSharedPasswordInput" data-bind="value: getEditableContact().presharedPassword, valueUpdate: 'input'"/>
                                            </div>
                                            <div class="recordStatus">
                                                <div class="pwStrengthBg" class="defaultMargin" data-bind="attr: {title: tutao.lang('pwStrength_title') }">
                                                    <div class="pwStrengthFg" data-bind="style: { width: (100 - Math.max(10, $parent.getPasswordStrength($data))) + '%' }"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
									<br>
								</div>
							<!-- /ko -->
						</section>
					</div>
				</div>
			</div>
		</div>

		<div id="contactContent" class="content" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.contactView">
			<div id="searchAndContactListColumn" class="viewColumn" data-bind="with: tutao.locator.contactListViewModel">
                <div class="actions" data-bind="template: { name: 'buttonBar-template',  data: buttonBarViewModel }"></div>
				<div id="searchAndContactList">
					<section id="contactList" class="list scrollable">
						<div id="innerContactList" data-bind="foreach: {data: contacts}, style: { borderTopWidth: (contacts().length > 0) ? '7px' : '0px', borderBottomWidth: (contacts().length > 0) ? '7px' : '0px' }">
							<div class="contactInList" data-bind="fastClick: $parent.showContact, css: { selected: $parent.isSelectedContact($data) }">
								<div class="contactNameAndMailAddressInList">
									<span class="emphasizedText"  data-bind="text: getFullName()"></span><br>
									<!-- ko if: getContact().getMailAddresses().length > 0 -->
										<span class="contactMailAddressInList" data-bind="text: getContact().getMailAddresses()[0].getAddress()"></span>
									<!-- /ko -->
								</div>
							</div>
						</div>
						<div class="infoMessage centered" data-bind="lang: 'noContacts_msg', visible: (contacts().length == 0)"></div>
					</section>
				</div>
				<!-- <button data-bind="fastClick: function() { importThunderbirdContactsAsCsv(); }">import</button> -->
			</div>

			<div id="contactColumn" class="viewColumn" data-bind="with: tutao.locator.contactViewModel">
				<div class="infoMessage centered" data-bind="lang: 'noContact_msg', visible: (mode() === tutao.tutanota.ctrl.ContactViewModel.MODE_NONE)"></div>
                <div class="actions" data-bind='template: { name: "buttonBar-template",  data: buttonBarViewModel }'></div>
                <div id="innerContactColumn" class="scrollable">
					<div id="contactWrapper">
						<!-- ko if: mode() !== tutao.tutanota.ctrl.ContactViewModel.MODE_NONE -->
							<section id="contact">
								<div class="contactBody">
									<!-- ko if: mode() == tutao.tutanota.ctrl.ContactViewModel.MODE_SHOW -->
										<div id="contactNameTitleAndImage">
											<!-- <img id="contactImage" data-bind="attr: { src: 'graphics/' + contactWrapper().getContact().getFirstName().toLowerCase() + '.jpg', alt: tutao.lang('contactImage_alt')}"/>-->
											<div id="contactNameAndTitle">
												<h1 data-bind="text: contactWrapper().getFullName()"></h1>
												<!-- ko if: contactWrapper().getContact().getBirthday() -->
													<div id="birthdayImage" class="fontImage star" data-bind="attr: {title: tutao.lang('birthday_alt') }"></div>
													<span data-bind="text: '&nbsp;' + tutao.tutanota.util.Formatter.formatDate(contactWrapper().getContact().getBirthday()) + ' (' + contactWrapper().getAge() + ')'"></span><br>
												<!-- /ko -->
												<span data-bind="text: contactWrapper().getContact().getCompany()"></span><br>
												<span data-bind="text: contactWrapper().getContact().getTitle()"></span><br>
											</div>
										</div>
										<!-- ko if: contactWrapper().getContact().getMailAddresses().length > 0 -->
											<h2 data-bind="lang: 'email_label'"></h2>
											<hr />
											<!-- ko foreach: contactWrapper().getContact().getMailAddresses() -->
												<div class="dataTable">
													<div class="mediumSizeColumn light" data-bind="text: tutao.entity.tutanota.ContactWrapper.getMailAddressTypeName($data)"></div>
													<div class="" data-bind="text: getAddress()"></div>
													<div class="smallButtonColumn fontImage mail-new" data-bind="fastClick: function() { $parent.sendMail($data) }, attr:{ title: tutao.lang('sendMail_alt') }"></div>
												</div>
											<!-- /ko -->
										<!-- /ko -->
										<!-- ko if: contactWrapper().getContact().getPhoneNumbers().length > 0 -->
											<h2 data-bind="lang: 'phone_label'"></h2>
											<hr />
											<!-- ko foreach: contactWrapper().getContact().getPhoneNumbers() -->
												<div class="dataTable">
													<div class="mediumSizeColumn light" data-bind="text: tutao.entity.tutanota.ContactWrapper.getPhoneNumberTypeName($data)"></div>
													<div class="" data-bind="text: getNumber()"></div>
													<div class="smallButtonColumn">
														<!-- ko if: (getType() != tutao.entity.tutanota.TutanotaConstants.CONTACT_PHONE_NUMBER_TYPE_FAX) -->
														<a data-bind="attr: { href: 'tel:' + getNumber() }">
																<div class="fontImage right" data-bind="attr: {title: tutao.lang('callNumber_alt')}"></div>
														</a>
														<!-- /ko -->
													</div>
												</div>
											<!-- /ko -->
										<!-- /ko -->
										<!-- ko if: contactWrapper().getContact().getAddresses().length > 0 -->
											<h2 data-bind="lang: 'address_label'"></h2>
											<hr />
											<!-- ko foreach: contactWrapper().getContact().getAddresses() -->
												<div class="dataTable">
													<div class="mediumSizeColumn light" data-bind="text: tutao.entity.tutanota.ContactWrapper.getAddressTypeName($data)"></div>
													<div class="" data-bind="text: getAddress()"></div>
													<div class="smallButtonColumn">
														<a target="_blank" rel="noopener noreferrer" data-bind="attr: { href: $parent.getMapUrl($data) }">
															<div class="fontImage right" data-bind="attr: {title: tutao.lang('showAddress_alt')}"></div>
														</a>
													</div>
												</div>
											<!-- /ko -->
										<!-- /ko -->
										<!-- ko if: contactWrapper().getContact().getSocialIds().length > 0 -->
											<h2 data-bind="lang: 'social_label'"></h2>
											<hr />
											<!-- ko foreach: contactWrapper().getContact().getSocialIds() -->
												<div class="dataTable">
													<div class="mediumSizeColumn light" data-bind="text: tutao.entity.tutanota.ContactWrapper.getSocialIdTypeName($data)"></div>
													<div class="" data-bind="text: getSocialId()"></div>
													<div class="smallButtonColumn">
														<!-- ko if: $parent.getSocialIdUrl($data) != null -->
														<a target="_blank" rel="noopener noreferrer" data-bind="attr: { href: $parent.getSocialIdUrl($data) }">
															<div class="fontImage right" data-bind="attr: {title: tutao.lang('openSocial_alt')}"></div>
														</a>
														<!-- /ko -->
													</div>
												</div>
											<!-- /ko -->
										<!-- /ko -->
										<!-- ko if: contactWrapper().getContact().getComment() != "" -->
											<h2 data-bind="lang: 'comment_label'"></h2>
											<hr />
											<div class="dataTable">
												<div class="textArea" data-bind="text: contactWrapper().getContact().getComment()"></div>
											</div>
										<!-- /ko -->
										<!-- ko if: contactWrapper().getContact().getPresharedPassword() != null || contactWrapper().getContact().getAutoTransmitPassword() != "" -->
											<h2 data-bind="lang: 'passwordsHeading_label'"></h2>
											<hr />
											<div class="dataTable" data-bind="visible: contactWrapper().getContact().getPresharedPassword() != null">
												<div class="mediumSizeColumn light" data-bind="lang: 'presharedPasswordHeading_label'"></div>
												<div class="" data-bind="text: getPresharedPasswordText()"></div>
												<div class="smallButtonColumn fontImage right" data-bind="attr: {title: tutao.lang('showPassword_alt')}, event: { mousedown: function() { showPresharedPassword(true); }, mouseup: function() { showPresharedPassword(false); }}"></div>
											</div>
											<div class="dataTable" data-bind="visible: contactWrapper().getContact().getAutoTransmitPassword() != ''">
												<div class="mediumSizeColumn light" data-bind="lang: 'autoTransmitPasswordHeading_label'"></div>
												<div class="" data-bind="text: getAutoTransmitPasswordText()"></div>
												<div class="smallButtonColumn fontImage right" data-bind="attr: {title: tutao.lang('showPassword_alt')}, event: { mousedown: function() { showAutoTransmitPassword(true); }, mouseup: function() { showAutoTransmitPassword(false); }}"></div>
											</div>
										<!-- /ko -->
									<!-- /ko -->
									<!-- ko if: mode() == tutao.tutanota.ctrl.ContactViewModel.MODE_EDIT || mode() == tutao.tutanota.ctrl.ContactViewModel.MODE_NEW -->
										<div id="editContactNameTitleAndImage">
											<!-- <img id="editContactImage" data-bind="attr: { src: 'graphics/' + editableContact.firstName().toLowerCase() + '.jpg'}, attr: {alt: tutao.lang('contactImage_alt')}"/> -->
											<div id="editContactNameAndTitle">
												<input id="firstNameInput" type="text" autocorrect="off" autocomplete="off" spellcheck="false" data-bind="value: editableContact.firstName, attr: {placeholder: tutao.lang('firstName_placeholder')}"/>
												<input id="lastNameInput" type="text" autocorrect="off" autocomplete="off" spellcheck="false" data-bind="value: editableContact.lastName, attr: {placeholder: tutao.lang('lastName_placeholder')}"/>
												<input id="birthdayInput" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: editableContact.birthdayStringComputed, css: { invalid: editableContact.birthdayStringInvalid }, attr: {placeholder: tutao.lang('birthdayWithFormat_placeholder')}"/>
												<input id="companyInput" type="text" data-bind="value: editableContact.company, attr: {placeholder: tutao.lang('company_placeholder')}"/>
												<input id="titleInput" type="text" data-bind="value: editableContact.title, attr: {placeholder: tutao.lang('title_placeholder')}"/>
											</div>
										</div>

										<h2 data-bind="lang: 'email_label'"></h2>
										<hr />
										<!-- ko foreach: editableContact.mailAddresses -->
											<div class="dataTable">
												<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_MAIL_ADDRESS_TYPE_NAMES, type, tutao.entity.tutanota.TutanotaConstants.CONTACT_MAIL_ADDRESS_TYPE_CUSTOM, customTypeName) }'></div>
												<div class="">
													<input type="email" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: address"/>
												</div>
												<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: function() { $parent.editableContact.mailAddresses.remove($data) }, attr: {title: tutao.lang('removeMailAddress_alt')}"></div>
											</div>
										<!-- /ko -->
										<div class="dataTable">
											<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_MAIL_ADDRESS_TYPE_NAMES, editableContact.newContactMailAddress().type, tutao.entity.tutanota.TutanotaConstants.CONTACT_MAIL_ADDRESS_TYPE_CUSTOM, editableContact.newContactMailAddress().customTypeName) }'></div>
											<div class="" >
												<input type="email" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: editableContact.newContactMailAddress().address, event: { blur: editableContact.newContactMailAddressUpdated }"/>
											</div>
											<div class="smallButtonColumn"></div>
										</div>

										<h2 data-bind="lang: 'phone_label'"></h2>
										<hr />
										<!-- ko foreach: editableContact.phoneNumbers -->
											<div class="dataTable">
												<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_PHONE_NUMBER_TYPE_NAMES, type, tutao.entity.tutanota.TutanotaConstants.CONTACT_PHONE_NUMBER_TYPE_CUSTOM, customTypeName) }'></div>
												<div class="" >
													<input type="tel" data-bind="value: number"/>
												</div>
												<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: function() { $parent.editableContact.phoneNumbers.remove($data) }, attr: {title: tutao.lang('removePhoneNumber_alt') }"></div>
											</div>
										<!-- /ko -->
										<div class="dataTable">
											<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_PHONE_NUMBER_TYPE_NAMES, editableContact.newContactPhoneNumber().type, tutao.entity.tutanota.TutanotaConstants.CONTACT_PHONE_NUMBER_TYPE_CUSTOM, editableContact.newContactPhoneNumber().customTypeName) }'></div>
											<div class="" >
												<input type="tel" data-bind="value: editableContact.newContactPhoneNumber().number, event: { blur: editableContact.newContactPhoneNumberUpdated }"/>
											</div>
											<div class="smallButtonColumn"></div>
										</div>

										<h2 data-bind="lang: 'address_label'"></h2>
										<hr />
										<!-- ko foreach: editableContact.addresses -->
											<div class="dataTable">
												<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_ADDRESS_TYPE_NAMES, type, tutao.entity.tutanota.TutanotaConstants.CONTACT_ADDRESS_TYPE_CUSTOM, customTypeName) }'></div>
												<div class="" >
													<textarea rows="2" data-bind="value: address" oninput='this.rows = Math.max(this.value.split("\n").length, 2);'></textarea>
												</div>
												<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: function() { $parent.editableContact.addresses.remove($data) }, attr: {title: tutao.lang('removeAddress_alt') }"></div>
											</div>
										<!-- /ko -->
										<div class="dataTable">
											<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_ADDRESS_TYPE_NAMES, editableContact.newContactAddress().type, tutao.entity.tutanota.TutanotaConstants.CONTACT_ADDRESS_TYPE_CUSTOM, editableContact.newContactAddress().customTypeName) }'></div>
											<div class="" >
												<textarea rows="2" data-bind="value: editableContact.newContactAddress().address, event: { blur: editableContact.newContactAddressUpdated }"  oninput='this.rows = Math.max(this.value.split("\n").length, 2);'></textarea>
											</div>
											<div class="smallButtonColumn"></div>
										</div>

										<h2 data-bind="lang: 'social_label'"></h2>
										<hr />
										<!-- ko foreach: editableContact.socialIds -->
											<div class="dataTable">
												<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_SOCIAL_ID_TYPE_NAMES, type, tutao.entity.tutanota.TutanotaConstants.CONTACT_SOCIAL_ID_TYPE_CUSTOM, customTypeName) }'></div>
												<div class="" >
													<input type="text" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: socialId"/>
												</div>
												<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: function() { $parent.editableContact.socialIds.remove($data) }, attr: {title: tutao.lang('removeSocial_alt') }"></div>
											</div>
										<!-- /ko -->
										<div class="dataTable">
											<div class="mediumSizeColumn" data-bind='template: { name: "dropdown-template",  data: new tutao.tutanota.ctrl.DropDownViewModel(tutao.entity.tutanota.TutanotaConstants.CONTACT_SOCIAL_ID_TYPE_NAMES, editableContact.newContactSocialId().type, tutao.entity.tutanota.TutanotaConstants.CONTACT_SOCIAL_ID_TYPE_CUSTOM, editableContact.newContactSocialId().customTypeName) }'></div>
											<div class="">
												<input type="text" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: editableContact.newContactSocialId().socialId, event: { blur: editableContact.newContactSocialIdUpdated }"/>
											</div>
											<div class="smallButtonColumn"></div>
										</div>

										<h2 data-bind="lang: 'comment_label'"></h2>
										<hr />
										<div class="dataTable">
											<div class="">
												<textarea rows="3" data-bind="value: editableContact.comment" oninput='this.rows = Math.max(this.value.split("\n").length, 3);'></textarea>
											</div>
											<div class="smallButtonColumn"></div>
										</div>
										<h2 data-bind="lang: 'passwordsHeading_label'"></h2>
										<hr />
										<div class="dataTable">
											<div class="mediumSizeColumn light" data-bind='lang: "presharedPasswordHeading_label"'></div>
											<div class="" >
												<input type="text" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: editableContact.presharedPassword"/>
											</div>
											<div class="smallButtonColumn"></div>
										</div>
									<!-- /ko -->
								</div>
							</section>
						<!-- /ko -->
					</div>
				</div>
			</div>
		</div>

		<div id="fileContent" class="content" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.fileView">
			<div id="fileColumn" class="viewColumn" data-bind="with: tutao.locator.fileViewModel">
				<div id="innerFileColumn" class="scrollable">
					<div>Received attachments</div>
					<div data-bind="template: { name: 'files-template', data: { fileViewModel: $data, files: receivedAttachments } }"></div>
					<div>Sent attachments</div>
					<div data-bind="template: { name: 'files-template', data: { fileViewModel: $data, files: sentAttachments } }"></div>
				</div>
			</div>
		</div>

		<div id="notSupported" class="failContent" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.notSupportedView">
			<div class="messageWrapperFail scrollable">
				<div class="infoMessage">
					<!-- ko if: (tutao.tutanota.util.ClientDetector.getSupportedType() == tutao.tutanota.util.ClientDetector.SUPPORTED_TYPE_UPDATE_NEEDED ) -->
						<div id="oldBrowserMessage" data-bind="lang: 'oldBrowser_msg'"></div>
					<!-- /ko -->
					<!-- ko if: (tutao.tutanota.util.ClientDetector.getSupportedType() == tutao.tutanota.util.ClientDetector.SUPPORTED_TYPE_NOT_SUPPORTED || tutao.tutanota.util.ClientDetector.getSupportedType() == tutao.tutanota.util.ClientDetector.SUPPORTED_TYPE_LEGACY_SAFARI) -->
						<div id="unsupportedBrowserMessage" data-bind="lang: 'unsupportedBrowser_msg'"></div>
					<!-- /ko -->
					<ul>
						<li><a target="_blank" rel="noopener noreferrer" href="http://www.mozilla.org/de/firefox">Firefox (Desktop)</a></li>
                        <li><a target="_blank" rel="noopener noreferrer" href="http://www.google.com/chrome">Chrome (Desktop, Android)</a></li>
                        <li><a target="_blank" rel="noopener noreferrer" href="http://www.opera.com/de/mobile/operabrowser">Opera (Desktop, Android)</a></li>
                        <li><a target="_blank" rel="noopener noreferrer" href="http://www.apple.com/de/safari">Safari (Desktop, iOS)</a></li>
						<li><a target="_blank" rel="noopener noreferrer" href="http://windows.microsoft.com/de-DE/internet-explorer/download-ie">Internet Explorer 10/11 (Desktop)</a></li>
                        <li><a target="_blank" rel="noopener noreferrer" href="http://de.blackberry.com/software/smartphones/blackberry-10-os.html">Blackberry 10</a></li>
					</ul>
					<br><div data-bind="lang: 'thanks_msg'"></div><br><div data-bind="lang: 'claim_label'"></div>
				</div>
			</div>
		</div>



		<div id="loginPage" class="singleColumnView" data-bind="with: tutao.locator.loginViewModel, slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.loginView">
            <div class="singleColumnContent scrollable">
                <div class="loginBoxContent">
                    <form method='post' class="recordContainer wide" data-bind="submit: login, form: true">
                        <div class="record">
                            <div class="recordData">
                                <div class="recordValue">
                                    <input class="inputField wide" id="loginMailAddress" type="email" data-bind="enable: !loginOngoing(), value: mailAddress, valueUpdate: 'input', hasfocus: mailAddressFieldFocused, attr:{placeholder: tutao.lang('mailAddress_label')}" />
                                </div>
                            </div>
                        </div>
                        <div class="record">
                            <div class="recordData">
                                <div class="recordValue">
                                    <input class="inputField wide" id="loginPassphrase" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: !loginOngoing(), value: passphrase, valueUpdate: 'input', hasfocus: passphraseFieldFocused, attr:{ placeholder: tutao.lang('password_label')}" />
                                </div>
                            </div>
                        </div>
                        <div class="record">
                            <div class="recordName"></div>
                            <div class="recordData">
                                <div class="recordValue">
                                    <input id="storePasswordCheckbox" type="checkbox" data-bind="checked: storePassword, enable: !loginOngoing()" />
                                    <label for="storePasswordCheckbox" data-bind="lang: 'storePassword_action'"></label>
                                </div>
                                <label for="storePasswordCheckbox" class="recordInfo" data-bind="lang: 'onlyPrivateComputer_msg'"></label>
                            </div>
                        </div>
                        <div class="record">
                            <div class="recordName"></div>
                            <div class="recordData disablePadding">
                                <button id="submitLogin" class="single wide" type="submit" data-bind="css: { disabled: !loginPossible() }, lang: 'login_action'"></button>
                                <label id="submitLoginLabel" class="recordStatus highStatusField" data-bind="css: loginStatus().type, lang: loginStatus().text"></label>
                            </div>
                        </div>
                        <div class="record appInfo" data-bind="template: { name: 'appInfo-template' }, visible: tutao.tutanota.ctrl.LoginViewModel.showAppInfo()"></div>
                    </form>
                </div>
            </div>
		</div>

        <div id="notFound" class="failContent" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.notFoundView">
            <div class="messageWrapperFail scrollable">
                <div class="infoMessage">
                    <h1>404</h1>

                    <div data-bind="lang: 'notFound404_msg'"></div>
                </div>
            </div>
        </div>

		<div id="externalLogin" class="singleColumnView" data-bind="with: tutao.locator.externalLoginViewModel, slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.externalLoginView">
            <div class="singleColumnContent scrollable">
                <div class="smallInfoMessage" data-bind="visible: errorMessageId(), lang: errorMessageId()"></div>
                <div class="loginBoxContent" data-bind="visible: !errorMessageId()">
                    <div class="recordContainer wide" data-bind="ifnot: phoneNumbers().length == 0, form: true">
                        <div class="record">
                            <div class="recordData">
                                <label id="sendMailPasswordStatus" class="recordStatus" data-bind="css: sendPasswordStatus().type, lang: sendPasswordStatus().text"></label>
                                <!-- ko foreach: phoneNumbers -->
                                <div class="extPhoneNumberRow recordValue">
                                    <div data-bind="text: getNumber()"></div>
                                    <button class="recordAction single" data-bind="lang: 'sendSms_action', css: { disabled: !$parent.sendSmsAllowed() }, fastClick: $parent.sendSms"></button>
                                </div>
                                <label class="recordStatus" data-bind="css: $parent.getSendSmsStatus(getId()).type, lang: $parent.getSendSmsStatus(getId()).text"></label>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                    <form class="recordContainer wide" data-bind="submit: checkEnteredPassword, form: true">
                        <div class="record">
                            <div class="recordData disablePadding">
                                <input id="externalMailPasswordInput" class="inputField wide recordValue" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="value: password, valueUpdate: 'input', hasfocus: passphraseFieldFocused, attr:{placeholder: tutao.lang('password_label') }"/>
                                <label for="externalMailPasswordInput" class="recordStatus highStatusField" data-bind="css: passwordStatus().type, lang: passwordStatus().text"></label>
                            </div>
                        </div>
                        <div class="record">
                            <div class="recordName"></div>
                            <div class="recordData">
                                <div class="recordValue">
                                    <input id="storePasswordCheckboxExternal" type="checkbox" data-bind="checked: storePassword" />
                                    <label for="storePasswordCheckboxExternal" data-bind="lang: 'storePassword_action'"></label>
                                </div>
                                <label for="storePasswordCheckboxExternal" class="recordInfo" data-bind="lang: 'onlyPrivateComputer_msg'"></label>
                            </div>
                        </div>
                        <div class="record">
                            <div class="recordName"></div>
                            <div class="formAction disablePadding" >
                                <button class="single fontImage confirmw wide" data-bind="text: tutao.lang('showMail_action'), css: { disabled: !showMailAllowed() }, fastClick: checkEnteredPassword, attr: { alt: tutao.lang('showMail_action')}"></button>
                                <label class="recordStatus highStatusField" data-bind="css: showMailStatus().type, lang: showMailStatus().text"></label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
		</div>


		<div id="registration" class="singleColumnView" data-bind="with: tutao.locator.registrationViewModel, slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.registrationView">
			<div class="singleColumnContent scrollable" >
				<!-- ko if: pageStatus() == tutao.tutanota.ctrl.RegistrationViewModel.PAGE_STATUS_OK -->
					<form class="recordContainer wide" data-bind="submit: createAccount, form: true">
						<!-- ko if: getRegistrationType() != 'Free' -->
						<div class="record">
							<label class="recordName" data-bind="lang: 'company_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input class="inputField wide" id="companyName" type="text" data-bind="enable: isFormEditable(), value: companyName" />
								</div>
							</div>
						</div>
						<div class="record">
							<label class="recordName" data-bind="lang: 'domain_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<div data-bind="text: domain"></div>
								</div>
							</div>
						</div>
						<!-- /ko -->
						<!-- ko if: getRegistrationType() != 'Free' -->
						<div class="record">
							<label for="mailAddress" class="recordName" data-bind="lang: 'currentMailAddressAdmin_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input class="inputField wide mailAddressPrefixInput" id="mailAddress" type="text" data-bind="enable: isFormEditable(), css: mailAddressStatus().type, value: mailAddressPrefix, valueUpdate: 'input'" /><span data-bind="text: '@' + domain()"></span>
								</div>
								<label for="mailAddress" class="recordStatus" data-bind="css: mailAddressStatus().type, lang: mailAddressStatus().text"></label>
								<label for="mailAddress" class="recordInfo" data-bind="lang: 'mailAddressInfoBusiness_msg'"></label>
							</div>
						</div>
						<!-- /ko -->
						<!-- ko if: getRegistrationType() == 'Free' -->

						<!-- ko if: tutao.env.isIOSApp()-->
						<h2 class="centered" data-bind="lang: 'createFreeAccount_label'"></h2>
						<!-- /ko -->

						<div class="record">
							<label for="mailAddress" class="recordName" data-bind="lang: 'desiredAddress_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input class="inputField wide mailAddressPrefixInput" id="mailAddress" type="text" data-bind="enable: isFormEditable(), css: mailAddressStatus().type, value: mailAddressPrefix, valueUpdate: 'input' " />
									<span>@</span>
									<select data-bind="options: availableDomains, enable: isFormEditable(), value: domain"></select>
								</div>
								<label for="mailAddress" class="recordStatus" data-bind="css: mailAddressStatus().type, lang: mailAddressStatus().text"></label>
								<label for="mailAddress" class="recordInfo" data-bind="lang: 'mailAddressInfo_msg'"></label>
							</div>
						</div>
						<!-- /ko -->
						<div class="record">
							<label for="newpassword" class="recordName" data-bind="lang: 'password_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input id="newpassword" class="inputField wide" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: isFormEditable(), value: password1, valueUpdate: 'input', css: getPassword1Status().type"/>
								</div>
								<label for="newpassword" class="recordStatus" data-bind="css: getPassword1Status().type">
									<div class="pwStrengthBg" class="defaultMargin" data-bind="attr: {title: tutao.lang('pwStrength_title') }">
										<div class="pwStrengthFg" data-bind="style: { width: (100 - Math.max(10, getPasswordStrength())) + '%' }"></div>
									</div>
									<div class="passwordStatus" data-bind="lang: getPassword1Status().text"></div>
								</label>
								<label class="recordStatus invalid"><b data-bind="lang: 'passwordImportance_msg'"></b></label>
								<!-- ko if: !tutao.env.isIOSApp() -->
								<div class="recordInfo"><a href="https://en.wikipedia.org/wiki/Password_strength#Guidelines_for_strong_passwords" target="_blank" rel="noopener noreferrer" data-bind="lang: 'goodPassphrase_action' " tabindex="-1"></a></div>
								<!-- /ko -->
							</div>
						</div>
						<div class="record">
							<label for="newpassword2" class="recordName" data-bind="lang: 'repeatedPassword_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input id="newpassword2" class="inputField wide" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: isFormEditable(), value: password2, valueUpdate: 'input', css: getPassword2Status().type"/>
								</div>
								<label for="newpassword2" class="recordStatus" data-bind="css: getPassword2Status().type, lang: getPassword2Status().text"></label>
							</div>
						</div>
						<div class="record">
							<label for="termsInput" class="recordName" data-bind="lang: 'terms_label'"></label>
							<div class="recordData">
								<div class="recordValue">
									<input id="termsInput" type="checkbox" data-bind="enable: isFormEditable(), checked: termsAccepted"/>
									<label for="termsInput" data-bind="lang: 'termsAndConditions_label'"></label>
									<div class="singleLineLink"  data-bind="lang: 'termsAndConditionsLink_label', fastClick:  tutao.locator.termsAndConditionsDialogViewModel.showTerms"></div>
									<div class="singleLineLink"  data-bind="lang: 'privacyLink_label', fastClick:  tutao.locator.termsAndConditionsDialogViewModel.showPrivacy"></div>
								</div>
								<label for="termsInput" class="recordStatus" data-bind="css: getTermsStatus().type, lang: getTermsStatus().text"></label>
							</div>
						</div>

                                <div class="record" data-bind="if: isCaptchaVisible()">
                                    <label for="captchaDisplay" class="recordName" data-bind="lang: 'captchaDisplay_label'"></label>
                                    <div class="recordData">
                                        <div class="recordValue">
                                            <img id="captchaDisplay" data-bind="attr: {src: ('data:image/png;base64,' + captchaBase64Png()), alt: tutao.lang('captchaDisplay_label')}"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="record" data-bind="if: isCaptchaVisible()">
                                    <label for="captchaInput" class="recordName" data-bind="text: tutao.lang('captchaInput_label') + ' (hh:mm)'"></label>
                                    <div class="recordData">
                                        <div class="recordValue">
                                            <input id="captchaInput" class="captchaInput" type="text" size="10" maxlength="5" data-bind="value: captchaTime, enable: isCaptchaEditable(), valueUpdate: 'input'"/>
                                        </div>
                                        <label for="captchaInput" class="recordInfo" data-bind="lang: 'captchaInfo_msg'"></label>
                                        <label for="captchaInput" class="recordStatus" data-bind="css: captchaStatus().type, lang: captchaStatus().text"></label>
                                    </div>
                                </div>

                                <div class="record">
                                    <div class="recordName"></div>
                                    <div class="formAction">
                                        <button class="single fontImage confirm" type="submit" data-bind="css: { disabled: !isCreateAccountPossible() }, lang: 'createAccount_action'"></button>
                                        <button class="single" data-bind="fastClick: login, lang: 'backTologin_action'"></button>
                                        <label class="recordStatus invalid" data-bind="lang: getCreateAccountErrorMessage()"></label>
                                    </div>
                                </div>

						<div class="record appInfo" data-bind="template: { name: 'appInfo-template' }, visible: tutao.tutanota.ctrl.LoginViewModel.showAppInfo()"></div>
					</form>
				<!-- /ko -->
				<!-- ko if: pageStatus() == tutao.tutanota.ctrl.RegistrationViewModel.PAGE_STATUS_NOT_SUPPORTED -->
					<div class="smallInfoMessage">
						<span data-bind="lang: 'browserNoKeygen_msg'"></span><br>
						<ul>
							<li><a target="_blank" rel="noopener noreferrer" href="http://www.google.com/chrome">Google Chrome</a></li>
							<li><a target="_blank" rel="noopener noreferrer" href="http://http://www.mozilla.org/de/firefox">Mozilla Firefox</a></li>
							<li><a target="_blank" rel="noopener noreferrer" href="http://windows.microsoft.com/de-DE/internet-explorer/download-ie">Microsoft Internet Explorer 10/11</a></li>
						</ul>
						<br><span data-bind="lang: 'thanks_msg'"></span><br><span data-bind="lang: 'claim_label'"></span>
					</div>
				<!-- /ko -->
				<!-- ko if: pageStatus() == tutao.tutanota.ctrl.RegistrationViewModel.PAGE_STATUS_INVALID_LINK -->
					<div class="smallInfoMessage" data-bind="lang: 'regLinkInvalid_msg'"></div>
				<!-- /ko -->
				<!-- ko if: pageStatus() == tutao.tutanota.ctrl.RegistrationViewModel.PAGE_STATUS_LOADING -->
					<div class="smallInfoMessage" data-bind="lang: 'loading_msg'"></div>
				<!-- /ko -->
				<!-- ko if: pageStatus() == tutao.tutanota.ctrl.RegistrationViewModel.PAGE_STATUS_DISABLED -->
					<div class="smallInfoMessage socialMediaLinks">
						<div data-bind="lang: 'regDisabledFree_msg'"></div>
						<a href="https://twitter.com/TutanotaTeam" target="_blank" rel="noopener noreferrer"><img class="socialMediaIcon" src="graphics/twitter.png"></a>
						<a href="https://www.facebook.com/tutanota" target="_blank" rel="noopener noreferrer"><img class="socialMediaIcon" src="graphics/facebook.png"></a>
						<a href="https://plus.google.com/+Tutanota" target="_blank" rel="noopener noreferrer"><img class="socialMediaIcon" src="graphics/google-plus.png"></a>
					</div>
				<!-- /ko -->
			</div>
		</div>

		<div id="settingsContent" class="content" data-bind="slideView: tutao.locator.viewManager.getActiveView() == tutao.locator.settingsView, if: tutao.locator.viewManager.getActiveView() == tutao.locator.settingsView">
			<div id="settingsColumn" class="viewColumn" data-bind="with: tutao.locator.settingsViewModel">
				<div id="settingsInnerColumn" class="scrollable menuList">
					<div id="settingsData">
                        <div class="menuItemHeading" data-bind="lang: 'userSettings_label'"></div>
						<div data-bind="foreach: getUserSettings()">
							<div class="menuItem" tabIndex="0" data-bind="lang: $parent.getSettingsTextId($data), css: { selected: ($data == $parent.displayed()) }, fastClick: function() { $parent.show($data); }"></div>
						</div>
                        <div class="menuItemHeading marginTop" data-bind="visible: getAccountSettings().length > 0, lang: 'accountSettings_label'"></div>
                        <div data-bind="foreach: getAccountSettings()">
                            <div class="menuItem" tabIndex="0" data-bind="lang: $parent.getSettingsTextId($data), css: { selected: ($data == $parent.displayed()) }, fastClick: function() { $parent.show($data); }"></div>
                        </div>
					</div>
				</div>
			</div>
			<div id="changeSettingsColumn" class="viewColumn" data-bind="with: tutao.locator.settingsViewModel">
                <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_USER_LIST -->
				<div class="actions" data-bind='domInit: function(domElement) { adminUserListViewModel().buttonBarViewModelUserList.setButtonBarWidth($(domElement).width()) }, template: { name: "buttonBar-template", data: adminUserListViewModel().buttonBarViewModelUserList }'></div>
                <!-- /ko -->
				<div id="changeSettingsInnerColumn" class="scrollable">
					<div id="changeSettingsData">
						<div>
							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_USER_INFO -->
								<div id="accountSettings" data-bind="with: new tutao.tutanota.ctrl.UserInfoViewModel()">
									<div class="recordContainer wide" data-bind="foreach: records, form: true">
										<div class="record" data-bind="template: { name: 'displayedRecord-template', data: $data }"></div>
									</div>
									<div class="recordContainer wide" data-bind="visible: showAddinLink, form: true">
										<div class="record">
											<label class="recordName">Outlook Addin</label>
											<div class="recordData">
												<div class="recordValue">
													<a target="_blank" href="outlook_addin/TutanotaStarterOutlookSetup.exe">TutanotaStarterOutlookSetup.exe</a>
												</div>
												<label class="recordInfo" data-bind="lang: 'addinInfoText_msg'"></label>
											</div>
										</div>
									</div>
								</div>
							<!-- /ko -->

							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_STORAGE -->
							<div id="adminBuyStorage" data-bind="with: new tutao.tutanota.ctrl.AdminBuyStorageViewModel()">
								<div data-bind="template: { name: 'buy-options-template', data: $data }"></div>
							</div>
							<!-- /ko -->

							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_EMAIL_ALIAS -->
							<div id="adminBuyAliases" data-bind="with: new tutao.tutanota.ctrl.AdminBuyAliasViewModel()">
								<div data-bind="template: { name: 'buy-options-template', data: $data }"></div>
							</div>
							<!-- /ko -->

							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_CHANGE_PASSWORD -->
								<div id="changePassword" data-bind="with: new tutao.tutanota.ctrl.ChangePasswordViewModel()">
									<form class="recordContainer wide" data-bind="if: overallState() == 'allowed', submit: function() { setTimeout(function() { confirm(); }, 0); }, form: true">
										<div class="record">
											<label for="oldpassword" class="recordName" data-bind="lang: 'oldPassword_label'"></label>
											<div class="recordData">
												<div class="recordValue">
													<input class="inputField wide" id="oldpassword" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: (state.getState() == 'EnterPasswords'), css: oldPasswordStatus().type, value: oldPassword, valueUpdate: 'input', event: { change: checkOldPassword }"/>
												</div>
												<label for="oldpassword" class="recordStatus" data-bind="css: oldPasswordStatus().type, lang: oldPasswordStatus().text"></label>
											</div>
										</div>
										<div class="record">
											<label for="changePasswordNew" class="recordName" data-bind="lang: 'newPassword_label'"></label>
											<div class="recordData">
												<div class="recordValue">
													<input id="changePasswordNew" class="inputField wide" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable:  (state.getState() == 'EnterPasswords'), value: password1, valueUpdate: 'input', css: getPassword1Status().type"/>
												</div>
												<label for="changePasswordNew" class="recordStatus" data-bind="css: getPassword1Status().type">
													<div class="pwStrengthBg" data-bind="attr: {title: tutao.lang('pwStrength_title') }">
														<div class="pwStrengthFg" data-bind="style: { width: (100 - Math.max(10, getPasswordStrength())) + '%' }"></div>
													</div>
													<div class="passwordStatus" data-bind="css: getPassword1Status().type, lang: getPassword1Status().text"></div>
												</label>
												<div class="recordInfo"><a href="https://en.wikipedia.org/wiki/Password_strength#Guidelines_for_strong_passwords" target="_blank" rel="noopener noreferrer" data-bind="lang: 'goodPassphrase_action' " tabindex="-1"></a></div>
											</div>
										</div>
										<div class="record">
											<label for="changePasswordNew2" class="recordName"></label>
											<div class="recordData">
												<div class="recordValue">
													<input id="changePasswordNew2" class="inputField wide" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable:  (state.getState() == 'EnterPasswords'), value: password2, valueUpdate: 'input', css: getPassword2Status().type"/>
												</div>
												<label for="changePasswordNew2" class="recordStatus" data-bind="css: getPassword2Status().type, lang: getPassword2Status().text"></label>
											</div>
										</div>
										<div class="record">
											<div class="recordName"></div>
											<div class="formAction">
												<button class="single fontImage confirm" type="submit" data-bind="css: { disabled: !confirmPossible() }, lang: changePasswordButtonTextId()"></button>
												<label class="recordStatus" data-bind="css: changePasswordStatus().type, lang: changePasswordStatus().text"></label>
											</div>
										</div>
									</form>
                                </div>
                            <!-- /ko -->
							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_USER_LIST -->
								<div id="adminUserList" data-bind="with: adminUserListViewModel">
									<div class="userList" data-bind="foreach: {data: userGroups}">
										<div class="user" data-bind="fastClick: $parent.editUser">
                                            <div class="icons">
                                                <div class="mailHeaderImage fontImage trash-small" data-bind="visible: getDeleted(), attr: {alt: tutao.lang('deleted_label')}"></div>
                                            </div>
											<div class="userName"  data-bind="text: getName()"></div>
											<div class="smallFont light" data-bind="text: getMailAddress()"></div>
										</div>
									</div>
								</div>
							<!-- /ko -->
                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_DELETE_ACCOUNT -->
                            <div id="adminDeleteAccount" data-bind="with: new tutao.tutanota.ctrl.AdminDeleteAccountViewModel()">
                                <h2 data-bind="visible: tutao.locator.viewManager.isPremiumAccount(), lang: 'unsubscribePremium_label'"></h2>
                                <form class="recordContainer wide" data-bind="if: tutao.locator.viewManager.isPremiumAccount(), submit: unsubscribePremium, form: true">
                                    <div class="record">
                                        <label class="recordName" data-bind="lang: 'bookingOrder_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">Tutanota Free</div>
                                            <label class="recordInfo" data-bind="lang: 'unsubscribePremiumMessage_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <div class="recordName"></div>
                                        <div class="formAction">
                                            <button class="single fontImage confirm" type="submit" data-bind="css: { disabled: !state.submitEnabled() }, lang: 'unsubscribe_action'"></button>
                                            <label class="recordStatus" data-bind="css: state.submitStatus().type, lang: state.submitStatus().text"></label>
                                        </div>
                                    </div>
                                </form>

                                <h2 data-bind="lang: 'adminDeleteAccount_action'"></h2>
                                <form class="recordContainer wide" data-bind="submit: function() { setTimeout(function() { confirm(); }, 0); }, form: true">
                                    <div class="record">
                                        <label for="deleteReason" class="recordName" data-bind="lang: 'deleteAccountReason_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <input id="deleteReason" class="inputField wide" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: !busy(), value: reason"/>
                                            </div>
                                            <label for="deleteReason" class="recordInfo" data-bind="lang: 'deleteAccountReasonInfo_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="password" class="recordName" data-bind="lang: 'password_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <input id="password" class="inputField wide" type="password" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: !busy(), value: password, valueUpdate: 'change', css: passwordStatus().type"/>
                                            </div>
                                            <label for="password" class="recordStatus" data-bind="css: passwordStatus().type, lang: passwordStatus().text"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <div class="recordName"></div>
                                        <div class="formAction">
                                            <button class="single fontImage confirm" type="submit" data-bind="css: { disabled: !confirmPossible() }, lang: 'adminDeleteAccount_action'"></button>
                                            <label class="recordStatus" data-bind="css: deleteAccountStatus().type, lang: deleteAccountStatus().text"></label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_MAIL_SETTINGS -->
                            <div id="adminEmailSettings" data-bind="with: new tutao.tutanota.ctrl.MailSettingsViewModel()" >
                                <form class="recordContainer wide" data-bind="submit: function() { setTimeout(function() { confirm(); }, 0); }, form: true">
                                    <div class="record">
                                        <label for="defaultSenderMailAddress" class="recordName" data-bind="lang: 'defaultSenderMailAddress_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <select id="defaultSenderMailAddress" data-bind="enable: inputEnabled, options: tutao.locator.userController.getEnabledMailAddresses(), value: defaultSenderMailAddress"></select>
                                            </div>
                                            <label for="defaultSenderMailAddress" class="recordInfo" data-bind="lang: 'defaultSenderMailAddressInfo_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="defaultConfidential" class="recordName" data-bind="lang: 'defaultExternalDelivery_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <input type="checkbox" id="defaultConfidential" data-bind="enable: inputEnabled, checked: defaultConfidential" />
                                                <label for="defaultConfidential" data-bind="lang: 'confidential_action'"></label>
                                            </div>
                                            <label for="defaultConfidential" class="recordInfo" data-bind="lang: 'defaultExternalDeliveryInfo_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="defaultConfidential" class="recordName" data-bind="lang: 'createContacts_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <input type="checkbox" id="createContacts" data-bind="enable: inputEnabled, checked: automaticContacts" />
                                                <label for="createContacts" data-bind="lang: 'createContactsForRecipients_action'"></label>
                                            </div>
                                        </div>
                                    </div>
									<div class="record">
										<label for="userEmailSignature" class="recordName" data-bind="lang: 'userEmailSignature_label'"></label>
										<div class="recordData">
											<div class="recordValue">
												<select id="defaultEmailSignature" data-bind="enable: inputEnabled, options: emailSignatureTypes, value: selectedEmailSignatureType, optionsText: 'text'"></select>
											</div>
										</div>
									</div>
									<div class="record">
										<div class="recordName"></div>
										<div class="recordData">
											<div class="recordValue">
												<div id="userEmailSignature" data-bind="css: {inputArea: isEmailSignatureInputEnabled()},  attr: { contenteditable : isEmailSignatureInputEnabled() }, editableText: displayedEmailSignature"></div>
											</div>
											<label for="userEmailSignature" class="recordInfo" data-bind="text: getEmailSignatureMsg()"></label>
										</div>
									</div>
                                    <div class="record">
                                        <div class="recordName"></div>
                                        <div class="formAction">
                                            <button class="single fontImage confirm" type="submit" data-bind="css: { disabled: !confirmPossible() }, lang: 'save_action'"></button>
                                            <label class="recordStatus" data-bind="css: mailSettingsStatus().type, lang: mailSettingsStatus().text"></label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- /ko -->
							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_INBOX_RULES_SETTINGS -->
							<div id="inboxRulesSettings" data-bind="with: tutao.locator.inboxRulesViewModel" >
								<div class="dataTable">
									<div class="mediumSizeColumn" data-bind="lang: 'inboxRuleField_label'"></div>
									<div class="" data-bind="lang: 'inboxRuleValue_label'">></div>
									<div class="mediumSizeColumn" data-bind="lang: 'inboxRuleTargetFolder_label'"></div>
									<div class="smallButtonColumn"></div>
								</div>
								<hr />
								<!-- ko foreach: userProperties.inboxRules() -->
								<div class="dataTable">
									<div class="mediumSizeColumn light" data-bind="text: $parent.getTextForType($data.type()),  attr: {title: $parent.getTextForType($data.type())}"></div>
									<div class="" data-bind="text: $data.value(), attr: {title: $data.value()}"></div>
									<div class="mediumSizeColumn light" data-bind="text: $parent.getTextForTarget($data.targetFolder()),  attr: {title: $parent.getTextForTarget($data.targetFolder())}, css:{ invalid: $parent.getTextForTarget($data.targetFolder()).length == 0 }"></div>
									<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: $parent.removeInboxRule, attr: {title: tutao.lang('delete_action')}"></div>
								</div>
								<!-- /ko -->
								<div class="dataTable">
									<div class="mediumSizeColumn">
										<select data-bind="enable: state.entering(), options: availableInboxRules, value: type, optionsText: getTextForType, attr: {title: getTextForType(type())}"></select>
									</div>
									<div class="" >
										<input type="text" data-bind="enable: state.entering(), value: value, valueUpdate: 'input', attr: {placeholder: getPlaceholder() }"/>
									</div>
									<div class="mediumSizeColumn">
										<select data-bind="enable: state.entering(), options: availableTargetFolders, value: selectedFolder, optionsText: getTargetName"></select>
									</div>
									<div class="smallButtonColumn fontImage confirm" data-bind="fastClick: addInboxRule, attr: {title: tutao.lang('add_action')}, css: {disabled: !state.submitEnabled()}"></div>
								</div>
								<label class="recordStatus" data-bind="lang: state.submitStatus().text, css: state.submitStatus().type"></label>
							</div>
							<!-- /ko -->

							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_NOTIFICATION_SETTINGS -->
							<div data-bind="with: new tutao.tutanota.ctrl.NotificationSettingsViewModel()" >
								<div class="dataTable">
									<div class="mediumSizeColumn" data-bind="lang: 'pushIdentifierDeviceType_label'"></div>
									<div class="" data-bind="lang: 'pushIdentifierNumber_label'"></div>
									<div class="smallButtonColumn"></div>
								</div>
								<hr />
								<!-- ko foreach: pushIdentifierListElements -->
								<div class="dataTable">
									<div class="mediumSizeColumn light" data-bind="text: $parent.getTextForType($data)"></div>
									<div class="" data-bind="text: $parent.getIdentifierForType($data), attr: {title: $data.getIdentifier()}"></div>
									<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: $parent.removePushIdentifier, attr: {title: tutao.lang('delete_action')}, css: {disabled: !$parent.state.submitEnabled()}"></div>
								</div>
								<!-- /ko -->
								<label class="recordInfo" data-bind="lang: 'pushIdentifierInfoMessage_msg'"></label>
							</div>
							<!-- /ko -->


                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_PREMIUM_FEATURES -->
                            <div id="adminPremiumFeatures" data-bind="with: new tutao.tutanota.ctrl.AdminPremiumFeatureViewModel()" >
								<div class="dataTable">
									<div class="" data-bind="lang: 'promotionCode_label'"></div>
								</div>
								<hr />
								<div class="dataTable">
									<div class="" >
										<input type="text" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: state.entering(), value: promotionCode, valueUpdate: 'input', attr: {placeholder: tutao.lang('promotionCodeEnterNeutral_msg')}"/>
									</div>
									<div class="smallButtonColumn fontImage confirm" data-bind="fastClick: submitPromotionCode, attr: {title: tutao.lang('activate_action')}, css: { disabled: !state.submitEnabled() }"></div>
								</div>
								<label class="recordStatus" data-bind="css: state.submitStatus().type, lang: state.submitStatus().text"></label>
                            </div>
							<div id="adminCustomDomain" data-bind="with: new tutao.tutanota.ctrl.AdminCustomDomainViewModel(), visible: !tutao.locator.viewManager.isOutlookAccount()">
								<div class="dataTable">
									<div class="" data-bind="lang: 'adminCustomDomain_label'"></div>
									<div class="largeSizeColumn" data-bind="text: function(){return customDomains().length > 0 ? tutao.lang('catchAllMailbox_label'): '';}()"></div>
									<div class="smallButtonColumn"></div>
								</div>
								<hr />
								<!-- ko foreach: customDomains -->
								<div class="dataTable">
									<div class="" data-bind="text: $data.domain, attr: {title: $data.domain}"></div>
									<div class="largeSizeColumn">
										<select data-bind="options: $parent.availableCatchAllGroups, optionsText: $parent.getTextForGroup, value: $data.catchAllGroup, enable: !$parent.busy()"></select>
									</div>
									<div class="smallButtonColumn fontImage confirm" data-bind="visible: $parent.isNewCatchAllValue($data), fastClick: function(){$parent.updateCustomDomain($data);}, attr: {title: tutao.lang('update_action')}"></div>
									<div class="smallButtonColumn fontImage cancel" data-bind="visible: !$parent.isNewCatchAllValue($data), fastClick: function(){$parent.deleteCustomDomain($data);}, attr: {title: tutao.lang('delete_action')}"></div>
								</div>
								<!-- /ko -->
								<div class="dataTable">
									<div class="" >
										<input type="text" data-bind="enable: !busy(), value: customDomain, valueUpdate: 'input', attr: {placeholder: tutao.lang('customDomainNeutral_msg')}"/>
									</div>
									<div class="smallButtonColumn fontImage confirm" data-bind="fastClick: confirm, attr: {title: tutao.lang('add_action')}, css: { disabled: !confirmPossible() }"></div>
								</div>
								<label class="recordStatus" data-bind="css: customDomainStatus().type, text: customDomainStatus().text"></label>
								<label class="recordInfo" data-bind="lang: 'adminCustomDomainInfo_msg'"></label>
								<a class="recordInfo" href="https://tutanota.uservoice.com/knowledgebase/articles/666088" data-bind="attr:{href: getCustomDomainSetupLink() }, text: getCustomDomainSetupLink()"></a>
								<label  class="recordStatus" data-bind="css: customDomainSubmitStatus().type, text: customDomainSubmitStatus().text"></label>
								<div  data-bind="foreach: invalidDnsRecords" >
									<label class="recordStatus" data-bind="css: $parent.customDomainSubmitStatus().type, text: getValue()"></label>
								</div>
							</div>
                            <!-- /ko -->
                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_INVOICING -->
                            <div data-bind="with: new tutao.tutanota.ctrl.AdminInvoicingViewModel()" >
                                <div data-bind="visible: tutao.locator.viewManager.isPremiumAccount()">
                                    <h2 data-bind="lang: 'currentlyBooked_label'"></h2>
                                    <div class="recordContainer wide" data-bind="form: true">
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'businessOrPrivateUsage_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="lang: getUsageTextId()"></div>
                                                <div class="recordInfo" data-bind="lang: getNetGrossInfoTextId()"></div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'subscription_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="lang: getSubscriptionTextId()"></div>
                                                <div class="recordInfo" data-bind="text: getEndOfSubscriptionText()"></div>
                                            </div>
                                        </div>
                                    </div>
									<div class="dataTable">
										<div class="" data-bind="lang: 'bookingItem_label'"></div>
										<div class="mediumSizeColumn" data-bind="lang: 'bookingAmount_label'"></div>
										<div class="mediumSizeColumn price" data-bind="lang: 'bookingPrice_label'"></div>
									</div>
									<hr/>
									<!-- ko foreach: items -->
									<div class="dataTable">
										<div class="light" data-bind="lang: name"></div>
										<div class="mediumSizeColumn light" data-bind="text: $parent.getAmountText($data)"></div>
										<div class="mediumSizeColumn light price" data-bind="text: $parent.getPriceText($data)"></div>
									</div>
									<!-- /ko -->
									<hr/>
									<div class="dataTable" data-bind="">
										<div class=""></div>
										<div class="mediumSizeColumn" data-bind="lang: 'bookingTotalPrice_label'"></div>
										<div class="mediumSizeColumn price" data-bind="text: getTotalPriceText()"></div>
									</div>
                                    <div class="light defaultMargin" data-bind="visible: showNextPeriodInfo(), text: '* ' + tutao.lang('nextSubscriptionPeriodInBrackets_msg')"></div>
                                </div>
                                <h2 class="marginTop" data-bind="lang: 'invoices_label'"></h2>
                                <div class="dataTable">
									<div class="" data-bind="lang: 'date_label'"></div>
									<div class="mediumSizeColumn" data-bind="lang: 'invoiceState_label'"></div>
									<div class="smallButtonColumn"></div> <!-- placeholder for download invoice column. -->
									<div class="mediumSizeColumn price" data-bind="lang: 'invoiceTotal_label'"></div>
								</div>
								<hr/>
								<!-- ko foreach: invoices -->
								<div class="dataTable">
									<div class="light" data-bind="text: tutao.tutanota.util.Formatter.formatDate(getDate())"></div>
									<div class="mediumSizeColumn light" data-bind="text: $parent.getInvoiceStateText($data), visible : !$parent.isPayButtonEnabled($data)"></div>
									<div class="mediumSizeColumn light" data-bind="visible:$parent.isPayButtonEnabled($data)">
										<div class="dataTableButton single" data-bind="lang: 'invoicePay_action', fastClick: $parent.payInvoice"></div>
									</div>
									<div class="mediumSizeColumn light price" data-bind="text: tutao.util.BookingUtils.formatPrice(Number(getGrandTotal()))"></div>
									<div class="smallButtonColumn fontImage download" data-bind="fastClick: function() { $parent.downloadPdf($data); }"></div>
								</div>
								<!-- /ko -->
                            </div>
                            <!-- /ko -->
                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_PAYMENT -->
                            <div data-bind="with: new tutao.tutanota.ctrl.PaymentDataViewModel()" >
                                <div class="centered" data-bind="if: state.loading()">
                                    <span class="fontImage spinner"></span>
                                </div>
                                <div data-bind="if: !state.loading()">
                                    <h1 class="centered" data-bind="lang: 'upgradeToPremiumHeading_label', visible: (step() > -1)"></h1>
                                    <div class="light defaultMargin" data-bind="visible: step() == 0">
                                        <span data-bind="lang: 'premiumOffer_msg'"></span>
                                        <span data-bind="lang: 'moreInfo_msg'"></span> <a target="_blank" rel="noopener noreferrer" href="https://tutanota.com/pricing">https://tutanota.com/pricing</a>
                                    </div>
                                    <form class="recordContainer wide" data-bind="if: !state.loading() && step() == 0, submit: enterAccountingInfo, form: true">
                                        <div class="record">
                                            <label for="paymentUsageInput" class="recordName" data-bind="lang: 'businessOrPrivateUsage_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <select id="paymentUsageInput" class="inputField wide" data-bind="options: usageOptions, value: accountingInfo().business, optionsText: 'name', optionsValue: 'value', enable: state.entering"></select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'subscription_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <select id="subscriptionInput" class="inputField wide" data-bind="options: paymentIntervals, value: accountingInfo().paymentInterval, optionsText: 'textId', optionsValue: 'interval', enable: state.entering"></select>
                                                </div>
                                                <label for="subscriptionInput" class="recordInfo" data-bind="lang: 'renewedSubscriptionInfo_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'price_label'"></label>
                                            <div class="recordData">
                                                <div id="subscriptionPrice" class="recordValue" data-bind="text: getPriceText()"></div>
                                                <label for="subscriptionPrice" class="recordInfo" data-bind="text: getPriceInfoText()"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <div class="recordName"></div>
                                            <div class="formAction">
                                                <button class="single fontImage confirm" type="submit" data-bind="lang: 'continue_action'"></button>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="light defaultMargin" data-bind="lang: 'paymentDataEnterData_msg', visible: step() == 1"></div>
                                    <form class="recordContainer wide" data-bind="if: !state.loading() && (step() == 1 || step() == -1), submit: submitPaymentData, form: true">
                                        <div class="record">
                                            <label for="paymentInvoiceRecipientInput"  class="recordName" data-bind="lang: 'invoiceRecipient_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <input id="paymentInvoiceRecipientInput" class="inputField wide" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="value: accountingInfo().invoiceName, enable: state.entering"/>
                                                </div>
                                                <label for="paymentInvoiceRecipientInput"  class="recordInfo" data-bind="lang: (accountingInfo().business()) ? 'invoiceRecipientInfoBusiness_msg' : 'invoiceRecipientInfoConsumer_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label for="paymentInvoiceAddressnput"  class="recordName" data-bind="lang: 'invoiceAddress_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <textarea id="paymentInvoiceAddressnput" rows="4" class="inputArea wide" data-bind="value: accountingInfo().invoiceAddress, enable: state.entering"></textarea>
                                                </div>
                                                <label for="paymentInvoiceAddressnput"  class="recordInfo" data-bind="lang: (accountingInfo().business()) ? 'invoiceAddressInfoBusiness_msg' : 'invoiceAddressInfoConsumer_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label for="paymentCountryInput"  class="recordName" data-bind="lang: 'invoiceCountry_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <select id="paymentCountryInput" class="inputField wide" data-bind="options: availableCountries, value: accountingInfo().invoiceCountry, optionsText: 'n', optionsValue: 'a', enable: state.entering"></select>
                                                </div>
                                                <label for="paymentCountryInput"  class="recordInfo" data-bind="lang: (accountingInfo().business()) ? 'invoiceCountryInfoBusiness_msg' : 'invoiceCountryInfoConsumer_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record" data-bind="if: showVatIdNoField">
                                            <label for="paymentVatIdNoInput"  class="recordName" data-bind="lang: 'invoiceVatIdNo_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <input id="paymentVatIdNoInput" class="inputField wide" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="value: accountingInfo().invoiceVatIdNo, enable: state.entering"/>
                                                </div>
                                                <label for="paymentVatIdNoInput"  class="recordInfo" data-bind="lang: 'invoiceVatIdNoInfoBusiness_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label for="paymentMethodInput"  class="recordName" data-bind="lang: 'paymentMethod_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue">
                                                    <select id="paymentMethodInput" class="inputField wide" data-bind="options: availablePaymentMethods, value: accountingInfo().paymentMethod, optionsText: 'name', optionsValue: 'value', enable: state.entering"></select>
                                                </div>
                                                <label for="paymentMethodInput"  class="recordInfo" data-bind="lang: 'invoicePaymentMethodInfo_msg'"></label>
                                            </div>
                                        </div>
                                        <div class="record" data-bind="fadeVisible : isEnterPaymentDataButtonVisible() " >
                                            <label class="recordName" data-bind="lang: getPaymentMethodDataTextId()"></label>
                                            <div class="formAction">
                                                <button class="single" type="button" data-bind="lang: isPaymentMethodInfoAvailable()? 'edit_action' : 'add_action', fastClick: enterCreditCardData, enable: state.entering, css: { disabled: !state.entering() }"></button>
                                                <label class="recordInfo" data-bind="text: accountingInfo().paymentMethodInfo(), fadeVisible: isPaymentMethodInfoAvailable()"></label>
                                                <label class="recordStatus" data-bind="text: getRedirectMessage()"></label>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <div class="recordName"></div>
                                            <div class="formAction">
                                                <button class="single fontImage confirm" type="submit" data-bind="lang: getStoreButtonText(), css: { disabled: !state.submitEnabled() }"></button>
                                                <button class="single" type="button" data-bind="lang: 'back_action', visible: step() == 1, css: {disabled: !state.cancelEnabled()}, fastClick: back"></button>
                                                <label class="recordStatus" data-bind="lang: state.submitStatus().text, css: state.submitStatus().type"></label>
                                            </div>
                                        </div>
                                    </form>
                                    <form class="recordContainer wide" data-bind="if: !state.loading() && step() == 2, submit: buy, form: true">
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'bookingOrder_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="text: getSummaryBookingText()"></div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'subscription_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="text: getSummarySubscriptionText()"></div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'price_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="text: getSummaryPriceText()"></div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <label class="recordName" data-bind="lang: 'paymentMethod_label'"></label>
                                            <div class="recordData">
                                                <div class="recordValue" data-bind="text: getSummaryPaymentMethodInfoText()"></div>
                                            </div>
                                        </div>
                                        <div class="record">
                                            <div class="recordName"></div>
                                            <div class="formAction">
                                                <button class="single fontImage confirm" type="submit" data-bind="lang: 'buy_action', css: { disabled: !state.submitEnabled() }"></button>
                                                <button class="single" type="button" data-bind="lang: 'back_action', css: {disabled: !state.cancelEnabled()}, fastClick: back"></button>
                                                <label class="recordStatus" data-bind="lang: state.submitStatus().text, css: state.submitStatus().type"></label>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_MESSAGES -->
                            <div id="adminMessages" data-bind="with: new tutao.tutanota.ctrl.AdminMessagesViewModel()" >
                                <form class="recordContainer wide" data-bind="if: properties(), submit: function() { setTimeout(function() { confirm(); }, 0); }, form: true">
                                    <div class="record">
                                        <label for="externalWelcomeMessageInput" class="recordName" data-bind="lang: 'externalWelcomeMessage_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <input id="externalWelcomeMessageInput" class="inputField wide" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" data-bind="enable: !busy(), value: properties().externalUserWelcomeMessage, valueUpdate: 'input'"/>
                                            </div>
                                            <label for="externalWelcomeMessageInput" class="recordInfo" data-bind="lang: 'externalWelcomeMessageInfo_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="externalWelcomeMessagePreview" class="recordName"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <div id="externalWelcomeMessagePreview">
                                                    <div class="outerWelcomeMessage">
                                                        <div class="innerWelcomeMessage" data-bind="text: properties().externalUserWelcomeMessage"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <label for="externalWelcomeMessagePreview" class="recordInfo" data-bind="lang: 'externalWelcomeMessagePreviewInfo_msg'"></label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="smallCustomLogo" class="recordName" data-bind="lang: 'smallLogo_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <div id="smallCustomLogo" data-bind="text: (properties().smallLogo()) ? properties().smallLogo().name() : ''"></div>
                                                <button class="single" data-bind="css: { disabled: busy() }, lang: 'select_action', fastClick: selectSmallLogo"></button>
                                                <button class="single" data-bind="css: { disabled: busy() || !properties().smallLogo() }, lang: 'delete_action', fastClick: deleteSmallLogo"></button>
                                            </div>
                                            <label for="smallCustomLogo" class="recordInfo">
                                                <span data-bind="lang: 'moreInfo_msg'"> </span> <a target="_blank" rel="noopener noreferrer" data-bind="text: getLogoInfoLink(), attr: { href: getLogoInfoLink() }"></a>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <label for="bigCustomLogo" class="recordName" data-bind="lang: 'bigLogo_label'"></label>
                                        <div class="recordData">
                                            <div class="recordValue">
                                                <div id="bigCustomLogo" data-bind="text: (properties().bigLogo()) ? properties().bigLogo().name() : ''"></div>
                                                <button class="single" data-bind="css: { disabled: busy() }, lang: 'select_action', fastClick: selectBigLogo"></button>
                                                <button class="single" data-bind="css: { disabled: busy() || !properties().bigLogo() }, lang: 'delete_action', fastClick: deleteBigLogo"></button>
                                            </div>
                                            <label for="bigCustomLogo" class="recordInfo">
                                                <span data-bind="lang: 'moreInfo_msg'"> </span> <a target="_blank" rel="noopener noreferrer" data-bind="text: getLogoInfoLink(), attr: { href: getLogoInfoLink() }"></a>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <div class="recordName"></div>
                                        <div class="formAction">
                                            <button class="single fontImage confirm" type="submit" data-bind="css: { disabled: busy() }, lang: 'save_action'"></button>
                                            <label class="recordStatus" data-bind="css: saveStatus().type, lang: saveStatus().text"></label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <!-- /ko -->
							<!-- ko if: displayed() == tutao.tutanota.ctrl.SettingsViewModel.DISPLAY_ADMIN_SPAM -->
							<div id="adminSpam" data-bind="with: new tutao.tutanota.ctrl.AdminSpamViewModel()" >
								<div class="dataTable">
									<div class="mediumSizeColumn" data-bind="lang: 'emailSenderRule_label'"></div>
									<div class="" data-bind="lang: 'emailSender_label'"></div>
									<div class="smallButtonColumn"></div>
								</div>
								<hr />
								<!-- ko foreach: getEmailSenderListEntries() -->
								<div class="dataTable">
									<div class="mediumSizeColumn light" data-bind="text: $parent.getTextForType($data.type()),  attr: {title: $parent.getTextForType($data.type())}"></div>
									<div class="" data-bind="text: $data.value(), attr: {title: $data.value()}"></div>
									<div class="smallButtonColumn fontImage cancel" data-bind="fastClick: $parent.removeEmailSenderListEntry, attr: {title: tutao.lang('delete_action')}"></div>
								</div>
								<!-- /ko -->
								<div class="dataTable">
									<div class="mediumSizeColumn">
										<select data-bind="enable: state.entering(), options: availableListTypes, value: selectedListType, optionsText: 'text', attr: {title: selectedListType().text}"></select>
									</div>
									<div class="" >
										<input type="text" data-bind="enable: state.entering(), value: domainOrMailAddress, valueUpdate: 'input', attr: {placeholder: tutao.lang('emailSenderPlaceholder_label')}"/>
									</div>
									<div class="smallButtonColumn fontImage confirm" data-bind="fastClick: addEmailSenderListEntry, attr: {title: tutao.lang('add_action')}, css: {disabled: !state.submitEnabled()}"></div>
								</div>
								<label class="recordStatus" data-bind="lang: state.submitStatus().text, css: state.submitStatus().type"></label>
								<!-- ko if: !tutao.env.isIOSApp() -->
								<label class="recordInfo" data-bind="lang: 'adminSpamRuleInfo_msg'"></label>
								<a class="recordInfo" href="https://tutanota.uservoice.com/knowledgebase/articles/780147" data-bind="attr: {href: getSpamRuleSetupLink()}, text: getSpamRuleSetupLink()"></a>
								<!-- /ko -->
							</div>
							<!-- /ko -->
						</div>
					</div>
				</div>
			</div>
			<div id="changeSettingsDetailsColumn" class="viewColumn" data-bind="with: tutao.locator.settingsViewModel.adminUserListViewModel">

				<!-- ko if: !editing() && !newViewModel() -->
					<div class="actions" data-bind='domInit: function(domElement) { buttonBarViewModel.setButtonBarWidth($(domElement).width()) }, template: { name: "buttonBar-template", data: buttonBarViewModel }'></div>
					<div class="changeSettingsDetailsInnerColumn scrollable" data-bind="visible: tutao.locator.viewManager.isPremiumAccount()" >
						<div class="infoMessage" >
							<div data-bind="lang: 'userManagementAddAlias_msg'"></div>
							<div data-bind="lang: 'emptyString_msg' "></div>
							<div data-bind="lang: 'userManagementAddUser_msg'"></div>
						</div>
					</div>
				<!-- /ko -->
                <!-- ko if: editing() -->
					<div class="actions" data-bind='domInit: function(domElement) { buttonBarViewModel.setButtonBarWidth($(domElement).width()) }, template: { name: "buttonBar-template", data: buttonBarViewModel }'></div>
                    <div class="changeSettingsDetailsInnerColumn scrollable" data-bind="with: editing()">
                        <form class="recordContainer wide" data-bind="submit: function() { setTimeout(function() { save(); }, 0); }, form: true">
                            <div class="record">
                                <label for="userName" class="recordName" data-bind="lang: 'name_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input class="inputField wide" id="userName" type="text" data-bind="enable: !busy() && isActive(), value: name, valueUpdate: 'input'" />
                                    </div>
                                </div>
                            </div>
                            <div class="record">
                                <label class="recordName" data-bind="lang: 'mailAddress_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue" data-bind="text: userGroupInfo.getMailAddress()">
                                    </div>
                                </div>
                            </div>
                            <div class="record" data-bind="visible: passwordChangeAllowed">
                                <label for="userPassword" class="recordName" data-bind="lang: 'password_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input id="userPassword" class="inputField wide" type="text" data-bind="hasfocus: passwordFocused, enable: !busy() && isActive(), value: password, valueUpdate: 'input', css: getPasswordStatus().type"/>
                                    </div>
                                    <label class="recordStatus" data-bind="css: getPasswordStatus().type">
                                        <div class="pwStrengthBg" data-bind="visible: passwordChanged, attr: {title: tutao.lang('pwStrength_title') }">
                                            <div class="pwStrengthFg" data-bind="style: { width: (100 - Math.max(10, getPasswordStrength())) + '%' }"></div>
                                        </div>
                                        <div class="passwordStatus" data-bind="lang: getPasswordStatus().text"></div>
                                    </label>
                                    <div class="recordInfo" data-bind="visible: passwordChanged, lang: 'notePassword_msg'"></div>
                                </div>
                            </div>
                            <div class="record">
                                <label class="recordName" data-bind="lang: 'created_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue" data-bind="text: tutao.tutanota.util.Formatter.formatDateTime(userGroupInfo.getCreated())">
                                    </div>
                                </div>
                            </div>
                            <div class="record" data-bind="if: userGroupInfo.getDeleted()">
                                <label class="recordName" data-bind="lang: 'deactivated_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue" data-bind="text: tutao.tutanota.util.Formatter.formatDateTime(userGroupInfo.getDeleted())">
                                    </div>
                                </div>
                            </div>
							<div class="record">
								<label class="recordName" data-bind="lang: 'storageCapacityUsed_label'"></label>
								<div class="recordData">
									<div class="recordValue" data-bind="text: usedStorage()">
									</div>
								</div>
							</div>
                            <div class="record">
                                <label for="admin" class="recordName" data-bind="lang: 'administrator_label'"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input type="checkbox" id="admin" data-bind="checked: admin, enable: !busy() && isActive() && modifyAdminAllowed()"/>
                                    </div>
                                </div>
                            </div>
                            <div class="record">
                                <div class="recordName"></div>
                                <div class="formAction">
                                    <button id="submitUserChange" class="single" type="submit" data-bind="css: {disabled: !isChangeActionAllowed()}, lang: 'save_action'"></button>
                                    <button id="deleteUserChange" class="single" type="button" data-bind="css: {disabled: busy}, lang: getDeleteButtonText(), fastClick: deleteUser, visible: deleteUserAllowed"></button>
                                    <label class="recordStatus" data-bind="css: saveStatus().type, lang: saveStatus().text"></label>
                                </div>
                            </div>
                        </form>
						<div id="adminAddAlias" data-bind="with: new tutao.tutanota.ctrl.AdminAliasViewModel($data)">
							<div class="dataTable">
								<div class="" data-bind="lang: 'mailAddressAliases_label'"></div>
								<div class="mediumSizeColumn"></div>
								<div class="smallButtonColumn" ></div>
							</div>
							<hr />
							<!-- ko foreach: aliasList -->
							<div class="dataTable">
								<div class="" data-bind="text: emailAddress"></div>
								<div class="mediumSizeColumn" data-bind="lang: $parent.getAliasStatusText($data)"></div>
								<div class="smallButtonColumn fontImage" data-bind="fastClick: function(){ $parent.deleteAlias($data); }, css :{ confirm : !$data.enabled(), cancel : $data.enabled() }"></div>
							</div>
							<!--/ko -->
							<div class="dataTable">
								<div class="noPaddingRight">
									<input type="text" data-bind="enable: inputEnabled(), css: mailAddressStatus().type, value: mailAddressPrefix, valueUpdate: 'input', attr:{placeholder: tutao.lang()} " />
								</div>
								<div class="smallButtonColumn">@</div>
								<div class="mediumSizeColumn">
									<select data-bind="options: availableDomains, value: domain, enable: inputEnabled()"></select>
								</div>
								<div class="smallButtonColumn fontImage confirm" data-bind="css: { disabled: !confirmPossible() }, fastClick: confirm"></div>
							</div>
							<label class="recordStatus" data-bind="css: mailAddressStatus().type, lang: mailAddressStatus().text"></label>
							<label class="recordInfo" data-bind="lang: (maxNbrOfAliases()) ? 'mailAddressAliasesMaxNbr_label' : 'emptyString_msg', params: {'{1}': maxNbrOfAliases()}"></label>
						</div>
                    </div>
                <!-- /ko -->
                <!-- ko if: newViewModel() -->
                    <div class="actions" data-bind="domInit: function(domElement) { newViewModel().buttonBarViewModel.setButtonBarWidth($(domElement).width()) }, template: { name: 'buttonBar-template',  data: newViewModel().buttonBarViewModel }"></div>
                    <div id="newUsers" class="changeSettingsDetailsInnerColumn scrollable" data-bind="with: newViewModel()">
                        <div id="importUsersFromCsv" class="modalDialog" data-bind="fadeInVisible: csvDialogVisible">
                            <div class="dialogWindow">
                                <span class="close" data-bind="fastClick: closeCsvDialog, attr: {alt: tutao.lang('close_alt') }" >X</span>
                                <h2 data-bind="lang: 'importCsv_label'"></h2>
                                <form class="recordContainer wide" data-bind="submit: importCsv, form: true">
                                    <div class="record">
                                        <div class="recordName">CSV</div>
                                        <div class="recordValue">
                                            <textarea rows=5 class="inputArea wide" data-bind="value: csvData"></textarea>
                                        </div>
                                    </div>
                                    <div class="record">
                                        <div class="recordName"></div>
                                        <div class="formAction">
                                            <button type="submit" class="single fontImage confirm" data-bind="lang: 'import_action'"></button>
                                            <label class="recordStatus" data-bind="css: csvImportStatus().type, lang: csvImportStatus().text, params: csvImportStatus().params"></label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <h1 data-bind="lang: 'newUsers_label'"></h1>
                        <!-- ko foreach: newUsers -->
                        <div class="recordContainer wide" data-bind="form: true">
                            <div class="record">
                                <label class="recordName" data-bind="lang: 'name_label', attr: {for: 'userName' + $index()}"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input class="inputField wide" type="text" data-bind="enable: $parent.state.entering(), value: name, valueUpdate: 'input', attr: {id: 'userName' + $index()}"/>
                                    </div>
                                    <label class="recordInfo" data-bind="lang: 'loginNameInfoAdmin_msg', attr: {for: 'userName' + $index()}"></label>
                                </div>
                            </div>
                            <div class="record">
                                <label class="recordName" data-bind="lang: 'mailAddress_label', attr: {for: 'userMailAddress' + $index()}"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input class="inputField wide mailAddress" type="text" data-bind="enable: $parent.state.entering(), css: mailAddressStatus().type, value: mailAddressPrefix, valueUpdate: 'input', attr: {id: 'userMailAddress' + $index()}" />
										<span>@</span>
										<select data-bind="enable: $parent.state.entering(), options: availableDomains, value: domain"></select>
                                    </div>
                                    <label class="recordStatus" data-bind="css: mailAddressStatus().type, lang: mailAddressStatus().text, attr: {for: 'userMailAddress' + $index()}"></label>
                                    <label class="recordInfo" data-bind="lang: 'mailAddressInfoAdmin_msg', attr: {for: 'userMailAddress' + $index()}"></label>
                                </div>
                            </div>
                            <div class="record">
                                <label class="recordName" data-bind="lang: 'password_label', attr: {for: 'password' + $index()}"></label>
                                <div class="recordData">
                                    <div class="recordValue">
                                        <input class="inputField wide" type="text" data-bind="enable: $parent.state.entering(), value: password, valueUpdate: 'input', css: getPasswordStatus().type, attr: {id: 'password' + $index()}"/>
                                    </div>
                                    <label class="recordStatus" data-bind="css: getPasswordStatus().type, attr: {for: 'password' + $index()}">
                                        <div class="pwStrengthBg" data-bind="attr: {title: tutao.lang('pwStrength_title') }">
                                            <div class="pwStrengthFg" data-bind="style: { width: (100 - Math.max(10, getPasswordStrength())) + '%' }"></div>
                                        </div>
                                        <div class="passwordStatus" data-bind="lang: getPasswordStatus().text"></div>
                                    </label>
                                    <div class="recordInfo" data-bind="lang: 'notePassword_msg'"></div>
                                </div>
                            </div>
                            <div class="record">
                                <div class="recordName"></div>
                                <div class="formAction">
                                    <button class="single" data-bind="lang: 'adminUserRemove_action', css: { disabled: !$parent.state.entering() }, fastClick: $parent.removeUser"></button>
                                </div>
                            </div>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: (createdUsers().length > 0) -->
                        <div class="light" data-bind="lang: 'successfullyCreatedUsers_msg'"></div>
                        <ul class="defaultMargin" data-bind="foreach: createdUsers">
                            <li class="createdUserEntry" data-bind="text: mailAddress() + ': ' + password()"></li>
                        </ul>
                        <!-- /ko -->
                        <hr>
                        <form class="recordContainer wide" data-bind="submit: createAccounts, form: true">
                            <div class="record">
                                <label class="recordName"></label>
                                <div class="recordData">
                                    <div class="recordValue"></div>
                                </div>
                            </div>
                            <div class="record">
                                <div class="recordName"></div>
                                <div class="formAction">
                                    <button type="submit" class="single fontImage confirm" data-bind="css: { disabled: !state.submitEnabled() }, lang: 'createUsers_label'"></button>
                                    <button class="single" data-bind="lang: 'cancel_action', css: { disabled: !state.cancelEnabled() }, fastClick: cancel"></button>
                                    <label class="recordStatus" data-bind="css: state.submitStatus().type, lang: state.submitStatus().text"></label>
                                </div>
                            </div>
                        </form>
                    <!-- /ko -->
                    </div>
				<!-- /ko -->
			</div>
		</div>

	</div><!-- end of viewContainer -->


    <div id="buyDialog" class="modalDialog" data-bind="with: tutao.locator.buyDialogViewModel, fadeInVisible: tutao.locator.buyDialogViewModel.visible">
        <div class="dialogWindow panel" data-bind="if: tutao.locator.buyDialogViewModel.visible">
            <span class="close" data-bind="fastClick: cancel, attr: {alt: tutao.lang('close_alt') }" >X</span>
            <h2 data-bind="lang: 'bookingSummary_label'"></h2>
            <form class="recordContainer wide" data-bind="submit: ok, form: true">
                <div class="record">
                    <label class="recordName" data-bind="lang: 'bookingOrder_label'"></label>
                    <div class="recordData">
                        <div class="recordValue" data-bind="text: getBookingText()"></div>
                    </div>
                </div>
                <div class="record" data-bind="visible: isBuy()">
                    <label class="recordName" data-bind="lang: 'subscription_label'"></label>
                    <div class="recordData">
                        <div class="recordValue" data-bind="text: getSubscriptionText()"></div>
                        <label class="recordInfo" data-bind="text: getSubscriptionInfoText()"></label>
                    </div>
                </div>
                <div class="record" data-bind="visible: isPriceChange()">
                    <label class="recordName" data-bind="lang: 'price_label'"></label>
                    <div class="recordData">
                        <div class="recordValue" data-bind="text: getPriceText()"></div>
                        <label class="recordInfo" data-bind="text: getPriceInfoText()"></label>
                    </div>
                </div>
                <div class="record" data-bind="visible: isBuy()">
                    <label class="recordName" data-bind="lang: 'paymentMethod_label'"></label>
                    <div class="recordData">
                        <div class="recordValue" data-bind="text: getPaymentMethodInfoText()"></div>
                    </div>
                </div>
                <div class="record">
                    <div class="recordName"></div>
                    <div class="formAction">
                        <button type="submit" class="single fontImage confirm" data-bind="lang: getSubmitButtonTextId()"></button>
                        <button class="single" data-bind="lang: 'cancel_action', fastClick: cancel"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="modalFolderNameDialog" class="modalDialog" data-bind="with: tutao.locator.folderNameDialogViewModel, fadeInVisible: tutao.locator.folderNameDialogViewModel.visible">
        <div class="dialogWindow">
            <span class="close" data-bind="fastClick: cancel, attr: {alt: tutao.lang('close_alt') }" >X</span>
            <h2 data-bind="lang: headingTextId"></h2>
            <form class="recordContainer wide" data-bind="submit: ok, form: true">
                <div class="record">
                    <label class="recordName" for="folderNameInput" data-bind="lang: 'folderName_label'"></label>
                    <div class="recordData">
                        <div class="recordValue">
                            <input id="folderNameInput" class="inputField wide" type="text" data-bind="value: name, valueUpdate: 'input'"/>
                        </div>
                        <label class="recordStatus" for="folderNameInput" data-bind="lang: getNameStatus().text, css: getNameStatus().type"></label>
                    </div>
                </div>
                <div class="record">
                    <div class="recordName"></div>
                    <div class="formAction">
                        <button type="submit" class="single dialogButton" data-bind="lang: 'ok_action', css: { disabled: getNameStatus().type != 'valid' }"></button>
						<button class="single dialogButton" data-bind="lang: 'cancel_action', fastClick: cancel"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div id="modalAlertConfirmDialog" class="modalDialog scrollable" data-bind="with: tutao.locator.modalDialogViewModel, fadeInVisible: tutao.locator.modalDialogViewModel.visible">
        <div class="dialogWindow">
            <span class="close" data-bind="fastClick: close, attr: {alt: tutao.lang('close_alt') }" >X</span>
            <h2 data-bind="text: titleText"></h2>
			<!-- ko if: image() != null -->
			<img data-bind="attr:{src: image()}"/>
			<!-- /ko -->
			<!-- ko foreach: messages -->
            <div class="modalDialogMessage" data-bind="text: $data"></div>
			<!-- /ko -->
			<!-- ko if: externalLink() != null -->
			<div class="modalDialogMessage"><a class="modalDialogMessage" data-bind="text: externalLink(), attr:{href: externalLink()}"></a></div>
			<!-- /ko -->
            <div data-bind="foreach: buttons">
            	<button class="single dialogButton" data-bind="lang: text, fastClick: click"></button>
			</div>

        </div>
    </div>


	<div id="modalTermsAndConditionConfirmDialog" class="modalDialog scrollable" data-bind="with: tutao.locator.termsAndConditionsDialogViewModel, fadeInVisible: tutao.locator.termsAndConditionsDialogViewModel.visible">
		<div class="dialogWindow">
			<span class="close" data-bind="fastClick: close, attr: {alt: tutao.lang('close_alt') }" >X</span>
			<div class="modalDialogMessage" data-bind=" editableText: content" contenteditable="false"></div>
			<button class="single dialogButton" data-bind="lang: 'close_alt', fastClick: close"></button>
			<button class="single dialogButton" data-bind="lang: 'languageGerman_label', fastClick: showGermanVersion, visible : currentLang()=='en'"></button>
		</div>
	</div>


	<div id="feedback" class="modalDialog scrollable" data-bind="with: tutao.locator.feedbackViewModel, fadeInVisible: tutao.locator.feedbackViewModel.showDialog">
		<div class="dialogWindow">
			<span class="close" data-bind="fastClick: close, attr: {alt: tutao.lang('close_alt') }" >X</span>
			<h2 data-bind="lang: 'errorReport_label'"></h2>
            <div class="descriptionFont" data-bind="lang: 'errorReportDescription_msg'"></div>
			<textarea rows="3" data-bind="value: message, attr: {placeholder: tutao.lang('feedbackLanguageInfo_msg')}"></textarea>
            <div class="modalDialogInfo" data-bind="lang: 'feedbackErrorInfo_msg' "></div>
            <button class="single " data-bind="fastClick: function() { setTimeout(function() { sendFeedback(); }, 0); }, lang: 'send_action'"></button>
		</div>
	</div>

    <div id="developer" class="modalDialog" data-bind="with: tutao.locator.developerViewModel, fadeInVisible: tutao.locator.developerViewModel.showDialog">
        <div class="dialogWindow">
            <span class="close" data-bind="fastClick: close, attr: {alt: tutao.lang('close_alt') }" >X</span>
            <h2 data-bind="lang: 'dev_label'"></h2>
            <ul class="test-list" data-bind="foreach: tests">
                <li>
                    <h2 data-bind="text: title, fastClick: action" ></h2>
					<input class="inputField" data-bind="visible: showInput, value: inputValue" />
                    <div data-bind="html: details"></div>
                </li>
            </ul>
            <h2>icons</h2>
            <div class="icons">
                <span class="fontImage cancel"></span><span class="fontImage confirm"></span><span class="fontImage send"></span><span class="fontImage trash"></span><span class="fontImage restore"></span><span class="fontImage reply"></span><span class="fontImage reply-all"></span><span class="fontImage export"></span><span class="fontImage attachment"></span>
            </div>
        </div>
    </div>

    <div id="legacyDownloadDialog" class="modalDialog" data-bind="with: tutao.locator.legacyDownloadViewModel, fadeInVisible: tutao.locator.legacyDownloadViewModel.dialogVisible">
        <div class="dialogWindow">
            <span class="close" data-bind="fastClick: closeDialog, attr: {alt: tutao.lang('close_alt') }" >X</span>
            <h2 data-bind="lang: 'showAttachment_label'"></h2>
            <!-- use click here because fastClick prevents the actual click on the link -->
            <a id="downloadLink" target="_blank" data-bind="text: filename(), attr: { href: blobUrl }, click: function() {  setTimeout(function() { closeDialog(); }, 0); return true; }"></a>
            <div class="modalDialogInfo" data-bind="lang: textId()"></div>
        </div>
    </div>

    <div id="progressDialog" class="modalDialog" data-bind="with: tutao.locator.progressDialogModel, fadeVisible: tutao.locator.progressDialogModel.showDialog, fadeFinished: tutao.locator.progressDialogModel.fadeFinished">
        <div class="dialogWindow">
            <h2 data-bind="lang: title()" ></h2>
            <div class="progressBg defaultMargin" >
                <div class="progressFg" data-bind="style: { width: (100 - progress()) + '%' }"></div>
            </div>
        </div>
    </div>
<!--
    <div id="attachmentDialog" data-bind="with: tutao.locator.attachmentDialogViewModel, fadeVisible: tutao.locator.attachmentDialogViewModel.dialogVisible">
        <span class="close" data-bind="fastClick: closeDialog, attr: {alt: tutao.lang('close_alt') }" >X</span>
        <a target="_blank" data-bind="attr: { href: blobUrl, download: filename }">
            <span>Download</span>
        </a>
    </div>
-->
	<header id="main" class="loggedIn" data-bind="with: tutao.locator.viewManager, css: { blur: tutao.locator.viewManager.isModalDialogVisible() }">
        <div id="welcomeMessage">
            <div class="outerWelcomeMessage">
                <div class="innerWelcomeMessage" data-bind="text: welcomeMessage"></div>
            </div>
        </div>
		<!-- <select id="fontSelector" data-bind="options: tutao.locator.fontViewModel.fonts, value: tutao.locator.fontViewModel.font, valueUpdate: 'keyup'"></select>-->
		<!-- <select id="themeSelector" data-bind="options: tutao.locator.themeViewModel.themes, value: tutao.locator.themeViewModel.theme"></select> -->
        <button class="leftViewButton fontImage leftIndicator" data-bind="text: previousColumnTitle(), fadeVisible: getActiveView().isShowLeftNeighbourColumnPossible(), fastClick: function() { if (getActiveView().isShowLeftNeighbourColumnPossible()){ getActiveView().getSwipeSlider().showLeftNeighbourColumn();} }"></button>
        <div id="logo" data-bind="fadeVisible: !getActiveView().isShowLeftNeighbourColumnPossible()"></div>

        <div id="right-navbar" >
            <menu data-bind="with: headerBarViewModel">
                <ul id="menu_list">
                    <!-- ko foreach: visibleButtons() -->
                        <li class="menu_link" tabIndex="0" data-bind="fastClick: click, attr: {'id': id}, css: {'selected': isSelected() }, domInit: domElement">
                            <div class="menu_image fontImage" data-bind="css: imageClass, attr: {title: tutao.lang(getImageAltTextId())}">
                                <div class="menu_badge" data-bind="text: (badge()<100)?badge():'99+', visible: badge()>0"></div>
                            </div>
                            <div class="menu_text" data-bind="lang: getLabelTextId()"></div>
                        </li>
                    <!-- /ko -->
                </ul>
            </menu>
        </div>

        <div id="title" data-bind="text: currentColumnTitle()"></div>
	</header>

    <div id="modalMoreMenu"  data-bind="with: tutao.locator.viewManager.elementWithSubButtons">
        <div class="modalDialog" data-bind="fastClick: hideSubButtons, visible: subButtonsVisible()">
            <menu id="menu_more" data-bind="centerVisible: domElement">
				<div class="inner_menu_more scrollable">
					<div class="menuList">
						<!-- ko if: subButtonsText() != null -->
						<div class="menuText" data-bind="text: subButtonsText()"></div>
						<!-- /ko -->
						<!-- ko foreach: subButtons -->
						<div class="menuItem fontImage" tabIndex="0" data-bind="lang: getLabelTextId(), css: imageClass + ((isSelected()) ? ' selected' : ''), attr: {id: id, title: tutao.lang(getImageAltTextId())}, fastClick: click"></div>
						<!-- /ko -->
					</div>
				</div>
            </menu>
            <div id="triangle"></div>
        </div>
    </div>

</script>

    <script type="text/html" id="mailFolder-template">
        <!-- provided data: vm (the MailFolderListViewModel), folders (the array of MailFolderViewModels) -->
        <div data-bind="foreach: folders()">
            <div class="menuItem fontImage" tabIndex="0" data-bind="text: getName(), attr: {title: tutao.lang(getTooltipTextId())}, css: getIconId() + (($parent.vm.showAsSelected($data)) ? ' selected' : '') + (isCustomFolder() ? ' indented' : '') ,fastClick: $parent.vm.selectFolder, drop: tutao.locator.mailFolderListViewModel.drop"></div>
            <div class="mailFolders" data-bind="template: { name: 'mailFolder-template',  data: { vm: $parent.vm, folders: subFolders } }"></div>
        </div>
    </script>

    <script type="text/html" id="appInfo-template">
            <div class="centered">
                <a href="https://play.google.com/store/apps/details?id=de.tutao.tutanota" class="appStoreLinkImage android-store" data-bind="visible: tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_DESKTOP || tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_ANDROID, attr: {alt: tutao.lang('appInfoAndroidImageAlt_alt') }"></a>
                <a target="itunes_store" href="https://itunes.apple.com/app/tutanota/id922429609?mt=8&uo=4&at=10lSfb" class="appStoreLinkImage ios-store" data-bind="visible: tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_DESKTOP || tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_IPHONE || tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_IPAD, attr: { alt: tutao.lang('appInfoIosImageAlt_alt') }"></a>
				<a href="http://www.amazon.com/Tutao-GmbH-Tutanota-einfach-sicher/dp/B00TH6BIAE" class="appStoreLinkImage amazon-store" data-bind="visible: tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_DESKTOP || tutao.tutanota.util.ClientDetector.getDeviceType() == tutao.tutanota.util.ClientDetector.DEVICE_TYPE_ANDROID, attr: {alt: tutao.lang('appInfoAndroidImageAlt_alt') }"></a>
            </div>
    </script>

	<script type="text/html" id="displayedRecord-template">
		<label class="recordName" data-bind="lang: nameTextId"></label>
		<div class="recordData">
			<div class="recordValue" data-bind="text: valueObservable"></div>
			<label class="recordInfo" data-bind="lang: infoTextId"></label>
		</div>
	</script>

	<script type="text/html" id="buttonBar-template">
		<div class="buttonBar">
            <!-- ko foreach: specialButtons() -->
            <button class="leftAligned fontImage" data-bind="lang: (tutao.tutanota.util.ClientDetector.isMobileDevice()) ? null : getLabelTextId(), css: imageClass + ((tutao.tutanota.util.ClientDetector.isMobileDevice()) ? ' iconOnly' : '') + ((isDisabled()) ? ' disabled' : ''), fastClick: click, attr: {title: tutao.lang(getLabelTextId()), 'id': id}, domInit: domElement"></button>
            <!-- /ko -->
            <!-- ko foreach: visibleButtons() -->
            <button class="fontImage" data-bind="lang: (tutao.tutanota.util.ClientDetector.isMobileDevice()) ? null : getLabelTextId(), css: imageClass + ((tutao.tutanota.util.ClientDetector.isMobileDevice()) ? ' iconOnly' : ''), fastClick: click, attr: {title: tutao.lang(getLabelTextId()), 'id': id}, domInit: domElement"></button>
            <!-- /ko -->
		</div>
	</script>

	<!-- use only with the DropdownViewModel -->
	<script type="text/html"  id="dropdown-template">
		<div class="dropDownWrapper" data-bind="visible: selectVisible(), css: {selected: selectActive}">
			<!-- use foreach with options to avoid multiple selections bug on iPhone (see http://stackoverflow.com/questions/12802896/knockout-js-select-list-acting-erratically-on-ios and
				https://github.com/SteveSanderson/knockout/issues/472) Even the custom isolatedOptions binding does not work in our case (see http://www.knockmeout.net/2012/06/knockoutjs-performance-gotcha-3-all-bindings.html),
				but looping through options works (see jsfiddle references from knockmeout: http://jsfiddle.net/rniemeyer/QjVNX/) -->
			<select data-bind="value: selectedId, hasfocus: selectActive">
			 	<!-- ko foreach: options -->
    				<option data-bind="attr: { value: $data.id }, text: $data.name"></option>
    			<!-- /ko -->
			</select>
		</div>
		<input type="text" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false" data-bind="visible: !selectVisible(), value: customValueObservable, hasfocus: inputActive" />
	</script>

	<!-- use only with the BubbleInputViewModel -->
	<script type="text/html"  id="bubbleinput-template">
		<div class="bubbleInput">
            <!-- used click instead of fastclick because fastclick events do not bubble (which we need to disable the Tooltip again)-->
			<div class="input" tabindex="-1" data-bind="click: vm.setInputActive, event: {mousedown: vm.setInputActive}">
				<div class="inputContainer">
					<!-- must be written in one line, otherwise spaces are inserted between bubbles and between input field -->
					<!-- ko foreach: vm.bubbles --><div class="bubble" tabIndex="0" data-bind="css: {selected: selected}, class: state"><div class="bubbleText" data-bind="domInit: $data.domElement, text: text, attr: {title: tooltip}, click: $data.click, css:{containsBubbleIcon: showDeleteIcon}"></div><div class="bubbleIcon" data-bind="visible: showDeleteIcon, fastClick: function() { $parent.vm.removeBubble($data); }, attr: { title: tutao.lang('removeRecipient_alt') }"><div class="fontImage cancel"></div></div></div><!-- /ko --><!-- prevent the click event on the input from bubbling to the inputWrapper as this would reset the selection --><div class="bubbleInputDiv"><div class="autocomplete-loading" data-bind="visible: vm.loading"><div class="fontImage spinner"></div></div><input type="email" data-bind="domInit: vm.setInputField, value: vm.inputValue, valueUpdate: 'input', hasfocus: vm.inputActive, click: function() {}, clickBubble: false, event: {keydown: vm.handleKey, blur: vm.inputFieldBlurFired}, attr: {'tabindex': tabindex}" autocorrect="off" autocapitalize="none" autocomplete="off" spellcheck="false"></input></div>
				</div>
				<!-- ko if: vm.bubbleHandler.buttonCss() -->
					<div class="buttonContainer" data-bind="fastClick: vm.bubbleHandler.buttonClick">
						<div class="fontImage" data-bind="css: vm.bubbleHandler.buttonCss()"></div>
					</div>
				<!-- /ko -->
			</div>
			<div class="autocompletebox" data-bind="foreach: vm.suggestions, css: {hidden: vm.suggestions().length === 0 || !vm.active()}">
				<div class="autocompleteEntry" data-bind="fastClick: $parent.vm.acceptSuggestion, event: {mousedown: $parent.vm.suggestionMousedownFired}, css: {selected: $parent.vm.selectedSuggestion() == $data}">
                    <div class="autocompleteFirstLine" data-bind="text: text"></div>
                    <div class="autocompleteSecondLine" data-bind="text: additionalText"></div>
				</div>
			</div>
		</div>
	</script>

	<script type="text/html"  id="files-template">
			<div class="files" data-bind="foreach: { data: files }">
				<div class="file" data-bind="fastClick: function() { $parent.fileViewModel.downloadFile($data) }, attr: { title: getName() }">
					<div class="mimeImage">
						<div class="fontImage" data-bind="class: $parent.fileViewModel.getFileTypeImage($data)"></div>
					</div>
					<div class="fileName" data-bind="text: getName()"></div>
					<div class="fileSize" data-bind="text: '(' + tutao.tutanota.util.Formatter.formatFileSize(getSize()) + ')'"></div>
				</div>
			</div>
	</script>


	<!-- use this with a BuyFeatureViewModel -->
	<script type="text/html"  id="buy-options-template">
		<h1 class="centered" data-bind="text: getHeading()"></h1>
		<div class="light defaultMargin" >
			<span data-bind="text: getInfoText()"></span>
		</div>
		<div class="buyFeatureOptions" data-bind="foreach: { data: getBuyOptions() } ">
			<div class="buyOptionBox">
				<div class="buyOptionHeading">
					<div data-bind="text: getFeatureText()"></div>
				</div>
				<hr />
				<div  class="buyOptionBody"  >
					<div class="priceText" data-bind="text: price()"></div>
				</div>
				<div class="buyOptionFooter">
					<!-- ko if: isBuyVisible() --> <button  class="single wide" data-bind="lang: 'order_action', fastClick: buy, css: { disabled: !isBuyEnabled() }"></button><!-- /ko -->
					<!-- ko if: !isBuyVisible() --><div  class="centered" data-bind="lang: 'activated_label'"></div><!-- /ko -->
				</div>
			</div>
		</div>
	</script>


</body>
</html>
